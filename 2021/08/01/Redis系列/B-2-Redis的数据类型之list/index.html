



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="方家小白" href="https://fangjiaxiaobai.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="方家小白" href="https://fangjiaxiaobai.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="方家小白" href="https://fangjiaxiaobai.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="Redis" />


<link rel="canonical" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/">



  <title>
Redis 数据结构之 List - Redis 数据库 |
方家小白 = 和你一起遇见更好的自己</title>
<meta name="generator" content="Hexo 5.4.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Redis 数据结构之 List
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2021-08-01 15:08:55">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2021-08-01T15:08:55+08:00">2021-08-01</time>
  </span>
  <span class="item" title="本文字数">
    <span class="icon">
      <i class="ic i-pen"></i>
    </span>
    <span class="text">本文字数</span>
    <span>13k</span>
    <span class="text">字</span>
  </span>
  <span class="item" title="阅读时长">
    <span class="icon">
      <i class="ic i-clock"></i>
    </span>
    <span class="text">阅读时长</span>
    <span>12 分钟</span>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">方家小白</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclhfehz7j20zk0m8u0x.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipet8c1a2j20zk0m8kct.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclwrdwyaj20zk0m8are.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giciukx8a7j20zk0m8aio.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclx29mstj20zk0m8hdt.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">首页</a></span><i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Redis%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="item" rel="index" title="分类于 Redis 数据库"><span itemprop="name">Redis 数据库</span></a>
<meta itemprop="position" content="1" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="方小白">
    <meta itemprop="description" content="和你一起遇见更好的自己, 和你一起遇见更好的自己">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="方家小白">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <div id="fxb_container" class="fxb_container_style">
      <h2 id="书接上回"><a class="markdownIt-Anchor" href="#书接上回">#</a> 书接上回</h2>
<p>上一篇文章 <a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/">Redis 的数据结构 string</a> 我们一起学习了这种类型的常用命令，并且还学习了  <code>Redis</code>  中的字符串的结构表示以及好处，这里我们接着学习另外一种数据结构  <code>list</code> 。</p>
<h2 id="list-简介"><a class="markdownIt-Anchor" href="#list-简介">#</a>  <code>list</code>  简介</h2>
<p><code>list</code> , 一般都会称为列表。在 <code>Redis</code>  中，这种数据结构是一种比较灵活的结构，由于其元素的是有序的，所以可以充当栈和队列这两种数据结构。实际在开发总也有很多应用场景。</p>
<p>一个 <code>List</code>  最多可以包含  <code>2^32-1</code>  个元素。</p>
<p>很多人都会以为 <code>list</code>  是用数组来实现的，非也，非也。它内部是 <code>quicklist</code>  这种数据结构。想要先睹为快的，那么坐<a href="##%60list%60%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E4%B9%8B%60quicklist%60">电梯直达</a>吧。</p>
<h2 id="list的相关命令"><a class="markdownIt-Anchor" href="#list的相关命令">#</a>  <code>list</code>  的相关命令</h2>
<h3 id="lpush命令"><a class="markdownIt-Anchor" href="#lpush命令">#</a>  <code>LPUSH</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>LPUSH key value [value …]</code></p>
<ul>
<li>解释</li>
</ul>
<p><code>lpush</code>  :  <code>left push</code> 。</p>
<p>将一个或者多个值插入到列表 <code>key</code>  的表头，返回列表的长度。元素可以是重复的。</p>
<p>如果 <code>key</code>  不存在，那么会先穿件一个列表，然后再执行 <code>push</code>  操作.</p>
<p>如果 <code>key</code>  值存在，但是 <code>value</code>  类型不是列表类型时，会返回一个错误。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 设置一个列表</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSH k22 v22</span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询指定区间内的数据,使用lrange命令</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE k22 0 10</span><br><span class="line">1) &quot;v22&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 一次插入多个值</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSH k22 v22_1 v22_2 v22_3 v22_4</span><br><span class="line">(integer) 5</span><br><span class="line">127.0.0.1:6379&gt; LRANGE k22 0 10</span><br><span class="line">1) &quot;v22_4&quot;</span><br><span class="line">2) &quot;v22_3&quot;</span><br><span class="line">3) &quot;v22_2&quot;</span><br><span class="line">4) &quot;v22_1&quot;</span><br><span class="line">5) &quot;v22&quot;</span><br></pre></td></tr></table></figure>
<h3 id="lpushx-命令"><a class="markdownIt-Anchor" href="#lpushx-命令">#</a>  <code>lpushx</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>LPUSHX key value</code></p>
<ul>
<li>解释</li>
</ul>
<p>仅当  <code>key</code>  存在的时候，才将  <code>value</code>  插入列表的表头。返回列表中元素的个数。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当key值不存在的时候，不会放入列表中</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX k23 v23</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"><span class="comment"># 再次尝试放入，也不可以。</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX k23 v23</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"><span class="comment"># 先往数组放入一个元素</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k23 v23</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"><span class="comment"># 再次尝试使用lpushx放入数据</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX k23 v23_1</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"><span class="comment"># 再次尝试使用lpushx放入数据</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX k23 v23_2</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"><span class="comment"># 查看列表 k23 中的数据。注意：和插入的顺序是相反的。</span></span><br><span class="line">127.0.0.1:6379&gt; Lrange k23 0 -1</span><br><span class="line">1) <span class="string">&quot;v23_2&quot;</span></span><br><span class="line">2) <span class="string">&quot;v23_1&quot;</span></span><br><span class="line">3) <span class="string">&quot;v23&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="rpush-命令"><a class="markdownIt-Anchor" href="#rpush-命令">#</a>  <code>rpush</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>RPUSH key value [value ...]</code></p>
<ul>
<li>解释</li>
</ul>
<p><code>rpush</code>  就是 <code>right push</code> 。将一个或多个值  <code>value</code>  插入到列表  <code>key</code>  的表尾 (最右边)。返回列表的长度。</p>
<p>如果  <code>key</code>  不存在的时候，会创建一个空列表，然后在执行  <code>rpush</code>  操作。</p>
<p>如果  <code>key</code>  存在，但是不是一个列表类型时，返回一个错误。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 往列表中加入数据</span></span><br><span class="line">127.0.0.1:6379&gt; RPUSH k24 v24</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; RPUSH k24 v24_1 v25_2 v25_3</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; lrange k24 0 -1</span><br><span class="line">1) &quot;v24&quot;</span><br><span class="line">2) &quot;v24_1&quot;</span><br><span class="line">3) &quot;v25_2&quot;</span><br><span class="line">4) &quot;v25_3&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 演示 key 存在，但是不是一个列表类型</span></span><br><span class="line">127.0.0.1:6379&gt; set k24_1 v24_1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; rpush k24_1 v24_1</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br></pre></td></tr></table></figure>
<h3 id="rpushx-命令"><a class="markdownIt-Anchor" href="#rpushx-命令">#</a>  <code>rpushx</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>rpushx key value</code></p>
<ul>
<li>解释</li>
</ul>
<p>与  <code>lpushx</code>  类似，如果 <code>key</code>  不存在时，什么都不会操作。如果 <code>key</code>  存在，才会将元素添加到表尾。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> key不存在的时候，不会插入数据</span></span><br><span class="line">127.0.0.1:6379&gt; rpushx k25 v25</span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 先设置一个列表</span></span><br><span class="line">127.0.0.1:6379&gt; rpush k25 v25_1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; rpushx k25 v25_2</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; rpushx k25 v25_3</span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看列表中的数据。注意和插入的顺序是一致的。</span></span><br><span class="line">127.0.0.1:6379&gt; lrange k25 0 -1</span><br><span class="line">1) &quot;v25_1&quot;</span><br><span class="line">2) &quot;v25_2&quot;</span><br><span class="line">3) &quot;v25_3&quot;</span><br></pre></td></tr></table></figure>
<h3 id="lpop-命令"><a class="markdownIt-Anchor" href="#lpop-命令">#</a>  <code>lpop</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>LPOP key</code></p>
<ul>
<li>解释</li>
</ul>
<p><code>left pop</code> ;</p>
<p>移除并返回列表的头元素。当 <code>key</code>  不存在的时候，返回 <code>nil</code></p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> key不存在的时候，返回nil</span></span><br><span class="line">127.0.0.1:6379&gt; LPOP k26</span><br><span class="line">(nil)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置一个列表，有三个元素</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k26 v26_1 v26_2 v26_3</span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看列表中的元素</span></span><br><span class="line">127.0.0.1:6379&gt; lrange k26 0 -1</span><br><span class="line">1) &quot;v26_3&quot;</span><br><span class="line">2) &quot;v26_2&quot;</span><br><span class="line">3) &quot;v26_1&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 依次pop出元素</span></span><br><span class="line">127.0.0.1:6379&gt; lpop k26</span><br><span class="line">&quot;v26_3&quot;</span><br><span class="line">127.0.0.1:6379&gt; lpop k26</span><br><span class="line">&quot;v26_2&quot;</span><br><span class="line">127.0.0.1:6379&gt; lpop k26</span><br><span class="line">&quot;v26_1&quot;</span><br><span class="line">127.0.0.1:6379&gt; lpop k26</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tip：  <code>lpush</code>  +  <code>lpop</code>  =&gt; 栈， <code>rpush</code>  +  <code>lpop</code>  =&gt; 队列。</p>
</blockquote>
<h3 id="rpop-命令"><a class="markdownIt-Anchor" href="#rpop-命令">#</a>  <code>rpop</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>rpop key</code></p>
<ul>
<li>解释</li>
</ul>
<p><code>rpop</code>  ：  <code>right pop</code> ;</p>
<p>和 lpop 相反。移除并返回列表的尾元素。如果 key 不存在返回 nil。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># key 不存在，返回nil</span></span><br><span class="line">127.0.0.1:6379&gt; rpop k27</span><br><span class="line">(nil)</span><br><span class="line"><span class="comment"># 先设置一个列表</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k27 v27_1 v27_2 v27_3</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange k27 0 -1</span><br><span class="line">1) <span class="string">&quot;v27_3&quot;</span></span><br><span class="line">2) <span class="string">&quot;v27_2&quot;</span></span><br><span class="line">3) <span class="string">&quot;v27_1&quot;</span></span><br><span class="line"><span class="comment"># 一次pop每个值</span></span><br><span class="line">127.0.0.1:6379&gt; rpop k27</span><br><span class="line"><span class="string">&quot;v27_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; rpop k27</span><br><span class="line"><span class="string">&quot;v27_2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; rpop k27</span><br><span class="line"><span class="string">&quot;v27_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; rpop k27</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tip:  <code>lpush</code>  +  <code>rpop</code>  =&gt; 队列， <code>rpush</code>  +  <code>rpop</code>  =&gt; 栈。</p>
</blockquote>
<h3 id="lrange-命令"><a class="markdownIt-Anchor" href="#lrange-命令">#</a>  <code>lrange</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>LRANGE key start stop</code></p>
<ul>
<li>解释</li>
</ul>
<p>获取指定区间内的元素。0 表示第一个元素。如果超过了实际范围就返回空数组。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LRANGE k22 0 10</span><br><span class="line">1) <span class="string">&quot;v22_4&quot;</span></span><br><span class="line">2) <span class="string">&quot;v22_3&quot;</span></span><br><span class="line">3) <span class="string">&quot;v22_2&quot;</span></span><br><span class="line">4) <span class="string">&quot;v22_1&quot;</span></span><br><span class="line">5) <span class="string">&quot;v22&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE k22 0 1</span><br><span class="line">1) <span class="string">&quot;v22_4&quot;</span></span><br><span class="line">2) <span class="string">&quot;v22_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE k22 10 100</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br></pre></td></tr></table></figure>
<h3 id="rpoplpush-命令"><a class="markdownIt-Anchor" href="#rpoplpush-命令">#</a>  <code>rpoplpush</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>RPOPLPUSH source destination</code></p>
<ul>
<li>解释</li>
</ul>
<p>将  <code>source</code>  的尾元素插入到 <code>destination</code>  列表的头元素中，返回该元素。 注意，这是一个原子操作。</p>
<p>比如:  <code>source</code> :  <code>a,b,c</code></p>
<p><code>distination</code> :  <code>1,2,3</code></p>
<p>使用  <code>RPOPLPUSH source distination</code>  , 则：</p>
<p><code>source</code> :  <code>a,b</code></p>
<p><code>distination</code> :  <code>c,1,2,3</code></p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置列表1</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k28_1 v28_c v28_b v28_a</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"><span class="comment"># 设置列表2</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k28_2 v28_3 v28_2 v28_1</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"><span class="comment"># 使用 rpoppush命令</span></span><br><span class="line">127.0.0.1:6379&gt; RPOPLPUSH k28_1 k28_2</span><br><span class="line"><span class="string">&quot;v28_c&quot;</span></span><br><span class="line"><span class="comment"># 查看列表1</span></span><br><span class="line">127.0.0.1:6379&gt; lrange k28_1 0 -1</span><br><span class="line">1) <span class="string">&quot;v28_a&quot;</span></span><br><span class="line">2) <span class="string">&quot;v28_b&quot;</span></span><br><span class="line"><span class="comment"># 查看列表2</span></span><br><span class="line">127.0.0.1:6379&gt; lrange k28_2 0 -1</span><br><span class="line">1) <span class="string">&quot;v28_c&quot;</span></span><br><span class="line">2) <span class="string">&quot;v28_1&quot;</span></span><br><span class="line">3) <span class="string">&quot;v28_2&quot;</span></span><br><span class="line">4) <span class="string">&quot;v28_3&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="lrem-命令"><a class="markdownIt-Anchor" href="#lrem-命令">#</a>  <code>lrem</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>LREM key count value</code></p>
<ul>
<li>解释</li>
</ul>
<p>至多移除列表中  <code>count</code>  个与参数  <code>value</code>  相等的元素。</p>
<p>有以下情況:</p>
<p><code>count &gt; 0</code>  : 从表头开始向表尾搜索，移除与  <code>value</code>  相等的元素，最多移除 <code>count</code>  个 。</p>
<p><code>count &lt; 0</code>  : 从表尾开始向表头搜索，移除与  <code>value</code>  相等的元素，最多移除 <code>|count|</code>  个。</p>
<p><code>count = 0</code>  : 移除表中所有与  <code>value</code>  相等的值。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 演示 count&gt;0 时</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置一个列表</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k29_1 v29_1  v29  v29_2 v29 v29_3 v29</span><br><span class="line">(integer) 6</span><br><span class="line"><span class="meta">#</span><span class="bash"> 从表头开始，移除2个 v29</span></span><br><span class="line">127.0.0.1:6379&gt; lrem k29_1 2 v29</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; lrange k29_1 0 -1</span><br><span class="line">1) &quot;v29_3&quot;</span><br><span class="line">2) &quot;v29_2&quot;</span><br><span class="line">3) &quot;v29&quot;</span><br><span class="line">4) &quot;v29_1&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 演示count&lt;0 时</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k29_2 v29_1 v29  v29_2 v29 v29_3 v29</span><br><span class="line">(integer) 6</span><br><span class="line">127.0.0.1:6379&gt; lrem k29_2 -2 v29</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; LRANGE k29_2 0 -1</span><br><span class="line">1) &quot;v29&quot;</span><br><span class="line">2) &quot;v29_3&quot;</span><br><span class="line">3) &quot;v29_2&quot;</span><br><span class="line">4) &quot;v29_1&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 演示count=0时</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k29_3 v29_1 v29  v29_2 v29 v29_3 v29</span><br><span class="line">(integer) 6</span><br><span class="line">127.0.0.1:6379&gt; lrem k29_3 0 v29</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; LRANGE k29_3 0 -1</span><br><span class="line">1) &quot;v29_3&quot;</span><br><span class="line">2) &quot;v29_2&quot;</span><br><span class="line">3) &quot;v29_1&quot;</span><br></pre></td></tr></table></figure>
<h3 id="llen-命令"><a class="markdownIt-Anchor" href="#llen-命令">#</a>  <code>llen</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>LLEN key</code></p>
<ul>
<li>解释</li>
</ul>
<p>获取列表的长度。</p>
<p>如果  <code>key</code>  不存在的时候，返回 <code>0</code> .</p>
<p>如果  <code>key</code>  对应类型不是  <code>list</code>  ，则返回一个错误。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; llen k30</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; lpush k30 v30_1 v30_2</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; llen k30</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删掉k30，演示，类型不是list的时候，报错</span></span><br><span class="line">127.0.0.1:6379&gt; del k30</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k30 v30</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; llen k30</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br></pre></td></tr></table></figure>
<h3 id="lindex-命令"><a class="markdownIt-Anchor" href="#lindex-命令">#</a>  <code>lindex</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>lindex key index</code></p>
<ul>
<li>解释</li>
</ul>
<p>返回列表中，下标为  <code>index</code>  的元素.  <code>-1</code>  表示列表的最后一个元素，如果 <code>key</code>  不存在，或者 <code>index</code>  超出范围，返回 <code>nil</code> ， 如果 key 不是一个列表类型，返回一个错误。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; lpush k31 v31_3 v31_2 v31_1</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; LINDEX k31 2</span><br><span class="line">&quot;v31_3&quot;</span><br><span class="line">127.0.0.1:6379&gt; LINDEX k31 1</span><br><span class="line">&quot;v31_2&quot;</span><br><span class="line">127.0.0.1:6379&gt; LINDEX k31 0</span><br><span class="line">&quot;v31_1&quot;</span><br></pre></td></tr></table></figure>
<h3 id="linsert-命令"><a class="markdownIt-Anchor" href="#linsert-命令">#</a>  <code>linsert</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>linsert key BEFORE|AFTER pivot value</code></p>
<ul>
<li>解释</li>
</ul>
<p>将 <code>value</code>  插入到 <code>key</code>  队列 <code>pivot</code>  值之前或者之后。返回插入完成之后列表的长度。</p>
<p>如果  <code>pivot</code>  不存在 或者  <code>key</code>  不存在，不执行任何操作。</p>
<p>如果  <code>key</code>  对应的不是一个列表类型，返回一个错误。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; linsert k32 BEFORE k31_1 k31_0</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; lpush k32 v32_1</span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta">#</span><span class="bash"> k32_3 =&gt; pivot不存在</span></span><br><span class="line">127.0.0.1:6379&gt; linsert k32 BEFORE v32_3 v31_2</span><br><span class="line">(integer) -1</span><br><span class="line"><span class="meta">#</span><span class="bash"> pivot之前插入</span></span><br><span class="line">127.0.0.1:6379&gt; linsert k32 BEFORE v32_1 v31_0</span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta">#</span><span class="bash"> pivot之后插入</span></span><br><span class="line">127.0.0.1:6379&gt; linsert k32 AFTER v32_1 v31_2</span><br><span class="line">(integer) 3</span><br></pre></td></tr></table></figure>
<h3 id="lset-命令"><a class="markdownIt-Anchor" href="#lset-命令">#</a> lset 命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>lset key index value</code></p>
<ul>
<li>解释</li>
</ul>
<p>将列表中的 索引为 <code>index</code>  的值设置为 <code>value</code> 。 如果 <code>index</code>  超出范围，则返回一个错误</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; lpush k33 v33_3 v33_1</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; lrange k33 0 -1</span><br><span class="line">1) <span class="string">&quot;v33_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v33_3&quot;</span></span><br><span class="line"><span class="comment">## 将第二个值，索引为1，设置为v33_2</span></span><br><span class="line">127.0.0.1:6379&gt; lset k33 1 v33_2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; lrange k33 0 -1</span><br><span class="line">1) <span class="string">&quot;v33_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v33_2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 超出范围返回错误</span></span><br><span class="line">127.0.0.1:6379&gt; lset k33 2 v33_2</span><br><span class="line">(error) ERR index out of range</span><br></pre></td></tr></table></figure>
<h3 id="ltrim-命令"><a class="markdownIt-Anchor" href="#ltrim-命令">#</a>  <code>ltrim</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>ltrim key start stop</code></p>
<ul>
<li>解释</li>
</ul>
<p>保留列表从 <code>start</code>  到 <code>stop</code>  之间的元素。其他元素都将被删除。 注意：包含 (不删除) <code>start</code>  和 <code>stop</code>  两个元素.</p>
<p>如果 <code>key</code>  不存在，直接返回 <code>OK</code> , 如果 <code>key</code>  对应的不是列表，直接返回错误。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; lpush k34 v34_1 v34_2 v34_3 v34_4 v34_5 v34_6</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; ltrim k34 1 4</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; lrange k34  0 -1</span><br><span class="line">1) <span class="string">&quot;v34_5&quot;</span></span><br><span class="line">2) <span class="string">&quot;v34_4&quot;</span></span><br><span class="line">3) <span class="string">&quot;v34_3&quot;</span></span><br><span class="line">4) <span class="string">&quot;v34_2&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="blpop-命令"><a class="markdownIt-Anchor" href="#blpop-命令">#</a> blpop 命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>BLPOP key [key ...] timeout</code></p>
<ul>
<li>解释</li>
</ul>
<p><code>lpop</code>  的 阻塞版本。  <code>block left pop</code></p>
<p>当给定列表内没有任何元素可供弹出的时候，连接将被 BLPOP 命令阻塞，直到等待超时或发现可弹出元素为止。<br>
当给定多个 key 参数时，按参数 key 的先后顺序依次检查各个列表，弹出第一个非空列表的头元素。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># push到三组列表，分别三个元素</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k35 v35_1 v35_2 v35_3</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange k35 0 -1</span><br><span class="line">1) <span class="string">&quot;v35_3&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_2&quot;</span></span><br><span class="line">3) <span class="string">&quot;v35_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k35_1 v35_1 v35_2 v35_3</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; lpush k35_2 v35_1 v35_2 v35_3</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 阻塞调用lpop, 从左到右 依次pop元素，直到有一个元素可以pop。</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35_2&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35_2&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line">1) <span class="string">&quot;k35_2&quot;</span></span><br><span class="line">2) <span class="string">&quot;v35_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; blpop k35 k35_1 k35_2 10</span><br><span class="line"><span class="comment"># 没有元素的时候会阻塞一直到超时。</span></span><br><span class="line">(nil)</span><br><span class="line">(10.59s)</span><br></pre></td></tr></table></figure>
<h3 id="brpop-命令"><a class="markdownIt-Anchor" href="#brpop-命令">#</a>  <code>brpop</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>BRPOP key [key ...] timeout</code></p>
<ul>
<li>解释</li>
</ul>
<p><code>rpop</code>  的阻塞版本。  <code>block right pop</code> <br>
 当给定多个 <code>key</code>  的时候，按照 <code>key</code>  的先后顺序依次检查各个列表。直到弹出一个元素或者超时。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置两个列表</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k36 v36_1 v36_2 v36_3</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; lpush k36_1 v36_1 v36_2 v36_3</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"><span class="comment"># 阻塞式的pop出每个值。</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOP k36 k36_1 10</span><br><span class="line">1) <span class="string">&quot;k36&quot;</span></span><br><span class="line">2) <span class="string">&quot;v36_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOP k36 k36_1 10</span><br><span class="line">1) <span class="string">&quot;k36&quot;</span></span><br><span class="line">2) <span class="string">&quot;v36_2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOP k36 k36_1 10</span><br><span class="line">1) <span class="string">&quot;k36&quot;</span></span><br><span class="line">2) <span class="string">&quot;v36_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOP k36 k36_1 10</span><br><span class="line">1) <span class="string">&quot;k36_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v36_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOP k36 k36_1 10</span><br><span class="line">1) <span class="string">&quot;k36_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v36_2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOP k36 k36_1 10</span><br><span class="line">1) <span class="string">&quot;k36_1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v36_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOP k36 k36_1 10</span><br><span class="line"><span class="comment"># 阻塞10s</span></span><br><span class="line">(nil)</span><br><span class="line">(10.61s)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Tips:  <code>lpush</code>  +  <code>brpop</code>  =&gt; 阻塞队列。</p>
</blockquote>
<h3 id="brpoplpush-命令"><a class="markdownIt-Anchor" href="#brpoplpush-命令">#</a>  <code>brpoplpush</code>  命令</h3>
<ul>
<li>语法</li>
</ul>
<p><code>BRPOPLPUSH source destination timeout</code></p>
<ul>
<li>解释</li>
</ul>
<p><code>rpoplpush</code>  的阻塞版本。  <code>block right left push</code> 。</p>
<p>当列表  <code>source</code>  为空的时候，该命令将阻塞，直到超时，或者 source 中有一个元素可以 pop。</p>
<ul>
<li>演示</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置一个列表</span></span><br><span class="line">127.0.0.1:6379&gt; lpush k37_source v37_1 v37_2 v37_3 v37_4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line"><span class="comment"># 将source移动到distination中。</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOPLPUSH k37_source k37_distination 10</span><br><span class="line"><span class="string">&quot;v37_1&quot;</span></span><br><span class="line"><span class="comment"># 查看下distination。</span></span><br><span class="line">127.0.0.1:6379&gt; lrange k37_distination 0 -1</span><br><span class="line">1) <span class="string">&quot;v37_1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOPLPUSH k37_source k37_distination 10</span><br><span class="line"><span class="string">&quot;v37_2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOPLPUSH k37_source k37_distination 10</span><br><span class="line"><span class="string">&quot;v37_3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOPLPUSH k37_source k37_distination 10</span><br><span class="line"><span class="string">&quot;v37_4&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这时我们启动两个客户端,演示阻塞直到另一个客户端执行source列表中的插入操作。</span></span><br><span class="line"><span class="comment"># 客户端1中继续执行 BRPOPLPUSH, 然后马上在客户端2中，输入&quot;LPUSH k37_source v37_5&quot;.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 客户端1</span></span><br><span class="line">127.0.0.1:6379&gt; BRPOPLPUSH k37_source k37_distination 10</span><br><span class="line"><span class="string">&quot;v37_5&quot;</span></span><br><span class="line">(3.02s)</span><br><span class="line"><span class="comment"># 客户端2</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSH k37_source v37_5</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br></pre></td></tr></table></figure>
<h2 id="list内部结构之quicklist"><a class="markdownIt-Anchor" href="#list内部结构之quicklist">#</a>  <code>list</code>  内部结构之 <code>quicklist</code></h2>
<h3 id="quicklist"><a class="markdownIt-Anchor" href="#quicklist">#</a>  <code>quicklist</code></h3>
<p>我们来看一下 <code>list</code>  的内部实现  <code>quicklist</code>  结构.</p>
<p>特别注明：  <code>quicklist</code>  是双向的链表结构。</p>
<p>在 <code>Redis</code>  中使用如下结构体表示.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">quicklist</span> &#123;</span></span><br><span class="line">    <span class="comment">// 头结点</span></span><br><span class="line">    quicklistNode *head;</span><br><span class="line">    <span class="comment">// 尾结点</span></span><br><span class="line">    quicklistNode *tail;</span><br><span class="line">    <span class="comment">// 列表的元素个数</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> count;</span><br><span class="line">    <span class="comment">// 链表的长度</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> len;</span><br><span class="line">    <span class="comment">// 单个节点的填充因子</span></span><br><span class="line">    <span class="keyword">int</span> fill : <span class="number">16</span>;</span><br><span class="line">    <span class="comment">// 不进行节点压缩的最大深度</span></span><br><span class="line">    <span class="comment">// 超过这个节点就会进行节点压缩</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> compress : <span class="number">16</span>;</span><br><span class="line">&#125; quicklist;</span><br></pre></td></tr></table></figure>
<p><code>quicklist</code>  是回一个通用的双向链接快速列表实现。它的每个节点用  <code>quicklistNode</code>  表示。</p>
<p>一起来看下  <code>qucklistNode</code>  是什么吧。</p>
<h3 id="quicklistnode"><a class="markdownIt-Anchor" href="#quicklistnode">#</a>  <code>quicklistNode</code></h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">quicklistNode</span> &#123;</span></span><br><span class="line">    <span class="comment">// 前一个节点</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">quicklistNode</span> *<span class="title">prev</span>;</span></span><br><span class="line">    <span class="comment">// 后一个节点</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">quicklistNode</span> *<span class="title">next</span>;</span></span><br><span class="line">    <span class="comment">// 数据指针。</span></span><br><span class="line">    <span class="comment">// 如果指向的数据没有被压缩,那么会指向zipList结构。</span></span><br><span class="line">    <span class="comment">// 如果进行了压缩，那么会指向 quickLZF结构。</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> *zl;</span><br><span class="line">    <span class="comment">// 当前节点的大小</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> sz;</span><br><span class="line">    <span class="comment">// 元素的个数</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> count : <span class="number">16</span>;</span><br><span class="line">    <span class="comment">// 编码方式，1=RAW，2=LZF</span></span><br><span class="line">    <span class="comment">// 1 表示未被压缩</span></span><br><span class="line">    <span class="comment">// 2 表示使用LZF结构进行的压缩</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> encoding : <span class="number">2</span>;   </span><br><span class="line">    <span class="comment">// 使用的容器是什么？1=NONE,2=ZIPLIST</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> container : <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// 前一个节点是否被压缩</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> recompress : <span class="number">1</span>; </span><br><span class="line">    <span class="comment">// 是否压缩</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> attempted_compress : <span class="number">1</span>; </span><br><span class="line">    <span class="comment">// 暂时留出来，以后使用。</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> extra : <span class="number">10</span>;</span><br><span class="line">&#125; quicklistNode;</span><br></pre></td></tr></table></figure>
<p><code>quicklistNode</code>  是一个 <code>32byte</code>  的结构体，用于描述一个 <code>quicklist</code>  的一个节点。从代码中可看出，使用了位图来节约空间。在上面的代码中我们还提到两种数据结构，对应的是代码中  <code>zl</code>  指针，指向的位置，如果数据被压缩，指向 <code>quicklistLZF</code>  和 没有数据没有被压缩就是指向  <code>ziplist</code> .</p>
<h3 id="ziplist"><a class="markdownIt-Anchor" href="#ziplist">#</a>  <code>ziplist</code></h3>
<p><code>ziplist</code>  这种结构比较复杂，而且在源码中也没有给出明确定义。那  <code>ziplist</code>  这么神秘的结构到底是什么样的呢？</p>
<p>别着急，我们先大体熟悉下 <code>ziplist</code>  这种结构的设计意图。</p>
<p><code>ziplist</code>  是一个经过特殊编码的双向链表，它的设计意图就是 提高存储效率，  <code>ziplist</code>  可以用于存储字符串或者整数，其中整数是按照真正的二进制进行编码的。 它能以 <code>O(1)</code>  的效率在表的两端进行 <code>pop</code>  和 <code>push</code>  操作。</p>
<p>我们都知道，普通的链表每项都是一块独立的内存空间，各项之间都是通过指针连接起来的。这种方式，会带来大量的空间碎片，指针引用也会占用部分空间内存。所以 <code>ziplist</code>  是将表中每项放在连续的空间内存中 (类似数组)， <code>ziplist</code>  还对值采取了一个可变长度的存储方式，大的值就用大空间，小的值就用小空间。</p>
<h4 id="ziplist结构的官方定义"><a class="markdownIt-Anchor" href="#ziplist结构的官方定义">#</a> ziplist 结构的官方定义。</h4>
<blockquote>
<p>The general layout of the ziplist is as follows:<br>
 <code>&lt;zlbytes&gt; &lt;zltail&gt; &lt;zllen&gt; &lt;entry&gt; &lt;entry&gt; ... &lt;entry&gt; &lt;zlend&gt;</code> <br>
 <code>&lt;uint32_t zlbytes&gt;</code>  is an unsigned integer to hold the number of bytes that  the ziplist occupies, including the four bytes of the zlbytes field itself.  This value needs to be stored to be able to resize the entire structure  without the need to traverse it first.<br>
 <code>&lt;uint32_t zltail&gt;</code>  is the offset to the last entry in the list. This allows  a pop operation on the far side of the list without the need for full  traversal.<br>
 <code>&lt;uint16_t zllen&gt;</code>  is the number of entries. When there are more than  2^16-2 entries, this value is set to 2^16-1 and we need to traverse the entire list to know how many items it holds.<br>
 <code>&lt;uint8_t zlend&gt;</code>  is a special entry representing the end of the ziplist. Is encoded as a single byte equal to 255. No other normal entry starts with a byte set to the value of 255.</p>
</blockquote>
<p>根据上面中解释我们可以得出以下这种模型：</p>
<p><img data-src="./images/ziplist-01-Ziplist%E7%9A%84%E7%BB%93%E6%9E%84.png" alt=""></p>
<p>如果没有特殊指定的话，都是采用小尾数法存储的。</p>
<ul>
<li>
<p><code>zlbytes</code> : 存储一个无符号整数，用于存储 ziplist 的所用的字节数，(包括 zlbytes 字段本身的四个字节)，当重新分配内容的时候，不需要遍历整个列表来计算内存大小。</p>
</li>
<li>
<p><code>zltail</code> : 一个无符号整数，表示 ziplist 中最后一个元素的偏移字节数，这样可以方便的找到最后一个元素，从而可以以 O (1) 的复杂度在尾端进行 pop 和 push。</p>
</li>
<li>
<p><code>zllen：压缩列表包含的结点的个数，即entry的个数。</code> <br>
这里的 <code>zllen</code>  是占用 <code>16bit</code> , 也就是说最多存储  <code>2^16-2</code>  个。但是 <code>ziplist</code>  超了 <code>2^16-2</code>  个也是可以表示的。那种情况就是 <code>16</code>  个 <code>1</code>  的时候，只需要从头遍历到尾就好了。</p>
</li>
<li>
<p><code>entry</code> : 真正存放数据的数据项，每个数据项都有自己的内部结构。</p>
</li>
<li>
<p><code>zlend</code> :  <code>ziplist</code>  的最后一个字节，值固定等于 <code>255</code> ，就是一个结束标记。</p>
</li>
</ul>
<h4 id="entry-结构"><a class="markdownIt-Anchor" href="#entry-结构">#</a> entry 结构</h4>
<p><code>entry</code>  是由三部分构成的。</p>
<ul>
<li>
<p><code>previous length（pre_entry_length）</code> ： 表示前一个数据节点占用的总字节数，这个字段的用处是为了让 ziplist 能够从后向前遍历（从后一项的位置，只需向前偏移 <code>previous length</code>  个字节，就找到了前一项）。这个字段采用变长编码。</p>
</li>
<li>
<p><code>encoding</code> （ <code>encoding&amp;cur_entry_length</code> ）：表示当前数据节点 content 的内容类型以及长度。也采用变长编码。</p>
</li>
<li>
<p><code>entry-data</code> ：表示当前节点存储的数据， <code>entry-data</code>  的内容类型有整数类型和字节数组类型，且某些条件下 <code>entry-data</code>  的长度可能为 <code>0</code> 。</p>
</li>
</ul>
<p>所以我们可以得出  <code>ziplist</code>  是一个这样的结构。</p>
<p><img data-src="./images/ziplist-01-entry%E7%9A%84%E7%BB%93%E6%9E%84.png" alt=""></p>
<p>有时，encoding 也可以代表 entry 本身，就像小整数一样。</p>
<p><img data-src="./images/ziplist-01-entry%E7%9A%84%E7%BB%93%E6%9E%842.png" alt=""></p>
<p>这里就是大体的了解下 ziplist 这种数据结构。</p>
<blockquote>
<p>这里是一篇关于 <a href="./10-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8Bziplist.md">ziplist</a> 详细解读的文章。</p>
</blockquote>
<h3 id="quicklistlzf"><a class="markdownIt-Anchor" href="#quicklistlzf">#</a>  <code>quicklistLZF</code></h3>
<p>看完了比较神秘的 <code>ziplist</code>  结构，我们来看一个比较简单的 <code>quicklist</code>  的压缩节点的结构  <code>quicklistLZF</code> 。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * quicklistLZF是一个4 + N字节的 struct。</span></span><br><span class="line"><span class="comment"> * sz 是 compressed 字段的字节长度。&#x27;compressed&#x27; 是长度为 sz的 LZF数据。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 未被压缩的长度保存到 quicklistNode-&gt;sz中。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 当压缩了quicklistNode-&gt;zl时，quicklistNode-&gt;zl指向的是一个 quicklistLZF类型的数据。</span></span><br><span class="line"><span class="comment"> * 未压缩的时候，指向的是ziplist.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">quicklistLZF</span> &#123;</span></span><br><span class="line">    <span class="comment">///compressed数组长度 </span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> sz; </span><br><span class="line">    <span class="keyword">char</span> compressed[];</span><br><span class="line">&#125; quicklistLZF;</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a class="markdownIt-Anchor" href="#总结">#</a> 总结</h2>
<ul>
<li><code>list</code>  相关的命令。以及常见的应用场景。比如栈和队列等等。</li>
<li><code>list</code>  其实是一种链表结构，但是不是一个普通的链表结构。</li>
<li><code>list</code>  是由  <code>quicklist</code>  这种数据结构实现的。 <code>quicklist</code>  中的每个节点是 <code>quicklistNode</code> , 而 <code>quicklist</code>  中 <code>zl</code>  指针，指向的是 一个 <code>ziplist</code>  或者 <code>quickListLZF</code> 。</li>
<li><code>ziplist</code>  是一个比较神秘的数据结构，有 <code>5</code>  部分构成，是连续存储的，可以实现 <code>O(1)</code>  的尾端 <code>pop</code>  和 <code>push</code>  操作。</li>
</ul>
<h2 id="最后"><a class="markdownIt-Anchor" href="#最后">#</a> 最后</h2>
<p>期望与你一起遇见更好的自己</p>
<p><img data-src="/images/qrcode.jpg" alt="期望与你一起遇见更好的自己"></p>

      <div class="asb asb-post-01" style="display:none;">
        <div class="mask"></div>
        <div class="info">
          <div>
              扫码或搜索：<span style="color: #E9405A; font-weight: bold;">方家小白</span>
          </div>
          <div>
              <span>发送 </span><span id="readmore_uniq_code" class="token" style="color: #e9415a; font-weight: bold; font-size: 17px; margin-bottom: 45px;">290992</span>
          </div>
          <div>
              即可<span style="color: #e9415a; font-weight: bold;">立即永久</span>解锁本站全部文章
          </div>
          <div>
            <img class="code-img" style="width: 300px;display:unset" src="https://fangjiaxiaobai.github.io/images/qrcode.jpg">
          </div>
      </div>
    </div>
      <div class="tags">
          <a href="/tags/Redis/" rel="tag"><i class="ic i-tag"></i> Redis</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">更新于</span>
    <time title="修改时间：2021-08-19 12:38:53" itemprop="dateModified" datetime="2021-08-19T12:38:53+08:00">2021-08-19</time>
  </span>
  <span id="2021/08/01/Redis系列/B-2-Redis的数据类型之list/" class="item leancloud_visitors" data-flag-title="Redis 数据结构之 List" title="阅读次数">
      <span class="icon">
        <i class="ic i-eye"></i>
      </span>
      <span class="text">阅读次数</span>
      <span class="leancloud-visitors-count"></span>
      <span class="text">次</span>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> 支持一下</button>
  <p>请我喝[咖啡]~(￣▽￣)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/wechatpay.png" alt="方小白 微信支付">
        <p>微信支付</p>
      </div>
      
      <div>
        <img data-src="/images/alipay.png" alt="方小白 支付宝">
        <p>支付宝</p>
      </div>
      <div>
        <img data-src="/images/numberpay.jpg" alt="方小白 numberpay">
        <p>numberpay</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>本文作者： </strong>方小白 <i class="ic i-at"><em>@</em></i>方家小白
  </li>
  <li class="link">
    <strong>本文链接：</strong>
    <a href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/" title="Redis 数据结构之 List">https://fangjiaxiaobai.github.io/2021/08/01/Redis系列/B-2-Redis的数据类型之list/</a>
  </li>
  <li class="license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipetfk5zwj20zk0m8e81.jpg" title="Redis数据结构之 String">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> Redis 数据库</span>
  <h3>Redis数据结构之 String</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexw3o58j20zk0m8e81.jpg" title="Redis数据结构之 Hash">
  <span class="type">下一篇</span>
  <span class="category"><i class="ic i-flag"></i> Redis 数据库</span>
  <h3>Redis数据结构之 Hash</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E6%8E%A5%E4%B8%8A%E5%9B%9E"><span class="toc-number">1.</span> <span class="toc-text"> 书接上回</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list-%E7%AE%80%E4%BB%8B"><span class="toc-number">2.</span> <span class="toc-text">  list  简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list%E7%9A%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">  list  的相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#lpush%E5%91%BD%E4%BB%A4"><span class="toc-number">3.1.</span> <span class="toc-text">  LPUSH  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lpushx-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">  lpushx  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rpush-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.3.</span> <span class="toc-text">  rpush  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rpushx-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.4.</span> <span class="toc-text">  rpushx  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lpop-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.5.</span> <span class="toc-text">  lpop  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rpop-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.6.</span> <span class="toc-text">  rpop  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lrange-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.7.</span> <span class="toc-text">  lrange  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rpoplpush-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.8.</span> <span class="toc-text">  rpoplpush  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lrem-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.9.</span> <span class="toc-text">  lrem  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#llen-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.10.</span> <span class="toc-text">  llen  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lindex-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.11.</span> <span class="toc-text">  lindex  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linsert-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.12.</span> <span class="toc-text">  linsert  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lset-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.13.</span> <span class="toc-text"> lset 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ltrim-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.14.</span> <span class="toc-text">  ltrim  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#blpop-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.15.</span> <span class="toc-text"> blpop 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#brpop-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.16.</span> <span class="toc-text">  brpop  命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#brpoplpush-%E5%91%BD%E4%BB%A4"><span class="toc-number">3.17.</span> <span class="toc-text">  brpoplpush  命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E4%B9%8Bquicklist"><span class="toc-number">4.</span> <span class="toc-text">  list  内部结构之 quicklist</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#quicklist"><span class="toc-number">4.1.</span> <span class="toc-text">  quicklist</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#quicklistnode"><span class="toc-number">4.2.</span> <span class="toc-text">  quicklistNode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ziplist"><span class="toc-number">4.3.</span> <span class="toc-text">  ziplist</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ziplist%E7%BB%93%E6%9E%84%E7%9A%84%E5%AE%98%E6%96%B9%E5%AE%9A%E4%B9%89"><span class="toc-number">4.3.1.</span> <span class="toc-text"> ziplist 结构的官方定义。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#entry-%E7%BB%93%E6%9E%84"><span class="toc-number">4.3.2.</span> <span class="toc-text"> entry 结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#quicklistlzf"><span class="toc-number">4.4.</span> <span class="toc-text">  quicklistLZF</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text"> 总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-number">6.</span> <span class="toc-text"> 最后</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
        <ul>
          <li><a href="/2021/07/23/Redis%E7%B3%BB%E5%88%97/00-%E7%9B%AE%E5%BD%95/" rel="bookmark" title="Redis 开篇 & 说明">Redis 开篇 & 说明</a></li><li><a href="/2021/07/23/Redis%E7%B3%BB%E5%88%97/00-%E5%89%8D%E8%A8%80/" rel="bookmark" title="Redis 开篇杂谈">Redis 开篇杂谈</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-%E5%AE%89%E8%A3%85%E5%8D%95%E6%9C%BA%E7%89%88Redis/" rel="bookmark" title="Redis的单机部署">Redis的单机部署</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-Redis%E7%AE%80%E4%BB%8B%E4%BB%A5%E5%8F%8A%E4%B8%8E%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%B9%E6%AF%94/" rel="bookmark" title="Redis 简介">Redis 简介</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/02-Redis%E7%9A%84%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="bookmark" title="Redis 多个数据库">Redis 多个数据库</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/" rel="bookmark" title="Redis数据结构之 String">Redis数据结构之 String</a></li><li class="active"><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/" rel="bookmark" title="Redis数据结构之 List">Redis数据结构之 List</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/" rel="bookmark" title="Redis数据结构之 Hash">Redis数据结构之 Hash</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-4-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%9B%86%E5%90%88set/" rel="bookmark" title="Redis数据结构之集合 Set">Redis数据结构之集合 Set</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-5-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88zset/" rel="bookmark" title="Redis数据结构之有序集合 zset">Redis数据结构之有序集合 zset</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-6-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E4%BD%8D%E5%9B%BEbitmap/" rel="bookmark" title="Redis数据结构之位图 BitMap">Redis数据结构之位图 BitMap</a></li><li><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-7-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BHyperLogLogs/" rel="bookmark" title="Redis数据结构之 `HyperLogLogs`">Redis数据结构之 `HyperLogLogs`</a></li><li><a href="/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-4-%E8%B7%B3%E8%A1%A8/" rel="bookmark" title="Redis中的数据结构之跳表及其原理">Redis中的数据结构之跳表及其原理</a></li><li><a href="/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8Bziplist/" rel="bookmark" title="Redis数据结构之详解 ziplist">Redis数据结构之详解 ziplist</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="方小白"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">方小白</p>
  <div class="description" itemprop="description">和你一起遇见更好的自己</div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">92</span>
        <span class="name">文章</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">15</span>
        <span class="name">分类</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">52</span>
        <span class="name">标签</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2ZhbmdqaWF4aWFvYmFp" title="https:&#x2F;&#x2F;github.com&#x2F;fangjiaxiaobai"><i class="ic i-github"></i></span>
      <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9mYW5namlheGlhb2JhaQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;fangjiaxiaobai"><i class="ic i-twitter"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9mYW5namlheGlhb2JhaQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;fangjiaxiaobai"><i class="ic i-zhihu"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTc3NDY2OTM3" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;77466937"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item email" data-url="bWFpbHRvOmZhbmdqaWF4aWFvYmFpQDE2My5jb20=" title="mailto:fangjiaxiaobai@163.com"><i class="ic i-envelope"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>首页</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a>
  </li>

  </ul>
        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-magic"></i>系列</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/series/leetcode" rel="section"><i class="ic i-music"></i>LeetCode系列</a>
  </li>

        
  <li class="item">
    <a href="/series/MySQL" rel="section"><i class="ic i-sakura"></i>MySQL系列</a>
  </li>

        
  <li class="item">
    <a href="/series/Redis" rel="section"><i class="ic i-snapchat-ghost"></i>Redis系列</a>
  </li>

        
  <li class="item">
    <a href="/series/Netty" rel="section"><i class="ic i-clipboard"></i>Netty系列</a>
  </li>

        
  <li class="item">
    <a href="/series/java" rel="section"><i class="ic i-coffee"></i>Java系列</a>
  </li>

        
  <li class="item">
    <a href="/series/git" rel="section"><i class="ic i-link-alt"></i>Git系列</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/links" rel="section"><i class="ic i-magic"></i>链接</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-chart-area"></i>推广</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/promotions/geekbang" rel="section"><i class="ic i-envelope"></i>极客时间</a>
  </li>

        
  <li class="item">
    <a href="/promotions/vpn" rel="section"><i class="ic i-thumbtack"></i>科学上网</a>
  </li>

        
  <li class="item">
    <a href="/promotions/common" rel="section"><i class="ic i-times"></i>书籍资料</a>
  </li>

  </ul>
        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-user"></i>关于</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/about/me" rel="section"><i class="ic i-user"></i>关于我</a>
  </li>

        
  <li class="item">
    <a href="/about/love" rel="section"><i class="ic i-heart"></i>关于她</a>
  </li>

  </ul>

</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/RocketMQ%E7%B3%BB%E5%88%97/" title="分类于 RocketMQ 系列">RocketMQ 系列</a>
</div>

    <span><a href="/2021/09/02/rocketMQ/1-02-RocketMQ%E6%A6%82%E5%BF%B5/" title="RocketMQ系列-RocketMQ概念">RocketMQ系列-RocketMQ概念</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E6%90%9C%E7%B4%A2%E4%B9%8BEs/" title="分类于 搜索之 Es">搜索之 Es</a>
</div>

    <span><a href="/2021/08/31/es-series/01.ES%E7%AE%80%E4%BB%8B/" title="Elastic Search简介">Elastic Search简介</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Dubbo/" title="分类于 Dubbo">Dubbo</a>
</div>

    <span><a href="/2021/10/14/java%E7%B3%BB%E5%88%97/dubbo/02-Dubbo%20with%20Springboot/" title="Dubbo 与 Springboot 集成">Dubbo 与 Springboot 集成</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Redis%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 Redis 数据库">Redis 数据库</a>
</div>

    <span><a href="/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/" title="Redis数据结构之 String">Redis数据结构之 String</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/git%E7%B3%BB%E5%88%97/" title="分类于 git 系列">git 系列</a>
</div>

    <span><a href="/2021/07/18/git%E7%B3%BB%E5%88%97/04-git%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A41/" title="git基本使用一">git基本使用一</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E6%9D%AD%E7%94%B5Oj/" title="分类于 杭电 Oj">杭电 Oj</a>
</div>

    <span><a href="/2021/10/13/BQ/hdoj/HD-1000/" title="1000 A + B Problem">1000 A + B Problem</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Dubbo/" title="分类于 Dubbo">Dubbo</a>
</div>

    <span><a href="/2021/10/13/java%E7%B3%BB%E5%88%97/dubbo/01-%E6%90%AD%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%BA%AFdubbo%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BA%94%E7%94%A8/" title="搭建第一个纯dubbo微服务应用">搭建第一个纯dubbo微服务应用</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/RocketMQ%E7%B3%BB%E5%88%97/" title="分类于 RocketMQ 系列">RocketMQ 系列</a>
</div>

    <span><a href="/2021/09/01/rocketMQ/README/" title="RocketMQ系列-开篇">RocketMQ系列-开篇</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/RocketMQ%E7%B3%BB%E5%88%97/" title="分类于 RocketMQ 系列">RocketMQ 系列</a>
</div>

    <span><a href="/2021/09/28/rocketMQ/2-02-RocketMQ%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B9%8B%E6%B6%88%E6%81%AF/" title="RocketMQ系列-架构设计之消息">RocketMQ系列-架构设计之消息</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/MachineLearn/" title="分类于 MachineLearn">MachineLearn</a>
</div>

    <span><a href="/2021/10/28/machine-learn/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A001-%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%E5%92%8C%E4%BA%86%E8%A7%A3/" title="机器学习-简介">机器学习-简介</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 
    <span itemprop="copyrightYear">2021</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">方小白 @ 方家小白</span>
  </div>
  <div class="count">
    <span class="post-meta-item-icon">
      <i class="ic i-chart-area"></i>
    </span>
    <span title="站点总字数">389k 字</span>

    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="ic i-coffee"></i>
    </span>
    <span title="站点阅读时长">5:53</span>
  </div>
  <div class="powered-by">
    基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2021/08/01/Redis系列/B-2-Redis的数据类型之list/',
    favicon: {
      show: "方家小白",
      hide: "方家小白"
    },
    search : {
      placeholder: "文章搜索",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
