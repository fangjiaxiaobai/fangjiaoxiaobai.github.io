{
    "version": "https://jsonfeed.org/version/1",
    "title": "方家小白 • All posts by \"搜索\" tag",
    "description": "和你一起遇见更好的自己",
    "home_page_url": "https://fangjiaxiaobai.github.io",
    "items": [
        {
            "id": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/04.ES%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/",
            "url": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/04.ES%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/",
            "title": "Elastic Search基本概念",
            "date_published": "2021-08-31T08:28:55.000Z",
            "content_html": "<h1 id=\"文档\"><a class=\"markdownIt-Anchor\" href=\"#文档\">#</a> 文档</h1>\n<p><code>es</code>  是面向文档的，文档是 <code>es</code>  中可搜索的最小单位， <code>es</code>  的文档由一个或多个字段组成，类似于关系型数据库中的一行记录，但 <code>es</code>  的文档是以 <code>JSON</code>  进行序列化并保存的，每个 <code>JSON</code>  对象由一个或多个字段组成，字段类型可以是布尔，数值，字符串、二进制、日期等数据类型。<br>\n <code>es</code>  每个文档都有唯一的 <code>id</code> , 这个 <code>id</code>  可以由我们自己指定，也可以由 <code>es</code>  自动生成。</p>\n<p><code>es</code>  每一个文档，除了保存我们写入进行的文档原始数据外，也有文档自己的元数据，这些元数据，用于标识文档的相关信息。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;_index&quot;</span> : <span class=\"string\">&quot;fxb_test&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_type&quot;</span> : <span class=\"string\">&quot;_doc&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_id&quot;</span> : <span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_version&quot;</span> : <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_seq_no&quot;</span> : <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_primary_term&quot;</span> : <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;found&quot;</span> : <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_source&quot;</span> : &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;username&quot;</span> : <span class=\"string\">&quot;fxb&quot;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>从上面的文档中，我们可以看文档的元数据字段如下：</p>\n<p><code>_index</code> ：文档所在索引名称<br>\n <code>_source</code> ：原始 <code>json</code>  数据<br>\n <code>_type</code> ：文档所属类型， <code>es7.0</code>  以后只有为  <code>_doc</code> <br>\n <code>_version</code> ：文档版本，如果对文档进行修改，则该字段会增加<br>\n <code>_score</code> ：相关性打分<br>\n <code>id</code> ：文档唯一 id</p>\n<h1 id=\"索引\"><a class=\"markdownIt-Anchor\" href=\"#索引\">#</a> 索引</h1>\n<p><code>es</code>  索引，是 <code>es</code>  组织文档的方式，是拥有相结构文档的集合，可以把 <code>es</code>  的索引类比为关系型数据库的一张数据表。<br>\n索引是 <code>ES</code>  中非常重要的一种数据结构。后面我们会着重的学习其原理。</p>\n<p>比如，我们想创建一个索引，可以在 kibana 使用下面的命令:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 创建索引</span></span><br><span class=\"line\">PUT /fxb_test</span><br></pre></td></tr></table></figure>\n<p>右侧就会输出：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;acknowledged&quot;</span> : <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;shards_acknowledged&quot;</span> : <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;index&quot;</span> : <span class=\"string\">&quot;fxb_test&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>如图:</p>\n<p><img data-src=\"/images/es-series/create-index.png\" alt=\"\"></p>\n<h2 id=\"mapping\"><a class=\"markdownIt-Anchor\" href=\"#mapping\">#</a> Mapping</h2>\n<p><code>Mapping</code>  是对 索引的定义。 类似的 <code>MySQL</code>  中表结构定义， ES 中支持手动定义 <code>Mapping</code>  ， 动态映射这两种方式。</p>\n<p>比如，我们上面创建的  <code>fxb_test</code>  索引，就可以使用动态映射方式生成的 Mapping。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 添加一个文档到 fxb_test 索引中</span></span><br><span class=\"line\">POST /fxb_test/_create/1</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;username&quot;</span>:<span class=\"string\">&quot;黄岛主&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;age&quot;</span>:57,</span><br><span class=\"line\">  <span class=\"string\">&quot;sex&quot;</span>: <span class=\"string\">&quot;男&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>输出结果：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;_index&quot;</span> : <span class=\"string\">&quot;fxb_test&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_type&quot;</span> : <span class=\"string\">&quot;_doc&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_id&quot;</span> : <span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_version&quot;</span> : <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;result&quot;</span> : <span class=\"string\">&quot;created&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_shards&quot;</span> : &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;total&quot;</span> : <span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;successful&quot;</span> : <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;failed&quot;</span> : <span class=\"number\">0</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_seq_no&quot;</span> : <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;_primary_term&quot;</span> : <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>然后，我们看下自动映射出来的 Mapping</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看索引的Mapping</span></span><br><span class=\"line\">GET /fxb_test</span><br></pre></td></tr></table></figure>\n<p>输出结果:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;fxb_test&quot;</span> : &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;mappings&quot;</span> : &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;properties&quot;</span> : &#123;</span><br><span class=\"line\">        <span class=\"attr\">&quot;age&quot;</span> : &#123;</span><br><span class=\"line\">          <span class=\"attr\">&quot;type&quot;</span> : <span class=\"string\">&quot;long&quot;</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">&quot;sex&quot;</span> : &#123;</span><br><span class=\"line\">          <span class=\"attr\">&quot;type&quot;</span> : <span class=\"string\">&quot;text&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">&quot;fields&quot;</span> : &#123;</span><br><span class=\"line\">            <span class=\"attr\">&quot;keyword&quot;</span> : &#123;</span><br><span class=\"line\">              <span class=\"attr\">&quot;type&quot;</span> : <span class=\"string\">&quot;keyword&quot;</span>,</span><br><span class=\"line\">              <span class=\"attr\">&quot;ignore_above&quot;</span> : <span class=\"number\">256</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">&quot;username&quot;</span> : &#123;</span><br><span class=\"line\">          <span class=\"attr\">&quot;type&quot;</span> : <span class=\"string\">&quot;text&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">&quot;fields&quot;</span> : &#123;</span><br><span class=\"line\">            <span class=\"attr\">&quot;keyword&quot;</span> : &#123;</span><br><span class=\"line\">              <span class=\"attr\">&quot;type&quot;</span> : <span class=\"string\">&quot;keyword&quot;</span>,</span><br><span class=\"line\">              <span class=\"attr\">&quot;ignore_above&quot;</span> : <span class=\"number\">256</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这里就先简单了解一下，相关的命令。 至于上面每个字段的含义以及作用，我们后面详细介绍。</p>\n<h1 id=\"集群\"><a class=\"markdownIt-Anchor\" href=\"#集群\">#</a> 集群</h1>\n<p>ES 的集群搭建很简单，不需要依赖第三方协调管理组件，自身内部就实现了集群的管理功能。 <code>ES</code>  集群由一个或多个 <code>Elasticsearch</code>  节点组成，每个节点配置相同的  <code>cluster.name</code>  即可加入集群，默认值为 “ <code>elasticsearch</code> ”。确保不同的环境中使用不同的集群名称，否则最终会导致节点加入错误的集群。</p>\n<p>一个 <code>Elasticsearch</code>  服务启动实例就是一个节点（ <code>Node</code> ）。节点通过  <code>node.name</code>  来设置节点名称，如果不设置则在启动时给节点分配一个随机通用唯一标识符作为名称。</p>\n<h1 id=\"分片\"><a class=\"markdownIt-Anchor\" href=\"#分片\">#</a> 分片</h1>\n<p><code>ES</code>  支持 <code>PB</code>  级全文搜索，当索引上的数据量太大的时候， <code>ES</code>  通过水平拆分的方式将一个索引上的数据拆分出来分配到不同的数据块上，拆分出来的数据库块称之为一个分片。</p>\n<p>这类似于 <code>MySQL</code>  的分库分表，只不过 <code>MySQL</code>  分库分表需要借助第三方组件而 ES 内部自身实现了此功能。</p>\n<p>在一个多分片的索引中写入数据时，通过路由来确定具体写入哪一个分片中，所以在创建索引的时候需要指定分片的数量，并且分片的数量一旦确定就不能修改。</p>\n<p>分片的数量和下面介绍的副本数量都是可以通过创建索引时的 <code>settings</code>  来配置， <code>ES</code>  默认为一个索引创建 <code>1</code>  个主分片 ( <code>ES 7.x</code> ), 并分别为每个分片创建一个副本。</p>\n<p><code>ES</code>  通过分片的功能使得索引在规模上和性能上都得到提升，每个分片都是 <code>Lucene</code>  中的一个索引文件，每个分片必须有一个主分片和零到多个副本。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 创建2个副本，5个分片的索引</span></span><br><span class=\"line\">PUT /fxb_test2</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;settings&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;number_of_replicas&quot;</span>: 2,</span><br><span class=\"line\">    <span class=\"string\">&quot;number_of_shards&quot;</span>: 5</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>返回结果:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;acknowledged&quot;</span> : <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;shards_acknowledged&quot;</span> : <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;index&quot;</span> : <span class=\"string\">&quot;fxb_test2&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"副本\"><a class=\"markdownIt-Anchor\" href=\"#副本\">#</a> 副本</h1>\n<p>副本就是对分片的 <code>Copy</code> ，每个主分片都有一个或多个副本分片，当主分片异常时，副本可以提供数据的查询等操作。主分片和对应的副本分片是不会在同一个节点上的，所以副本分片数的最大值是  <code>n-1</code> （其中 n 为节点数）。</p>\n<p>对文档的新建、索引和删除请求都是写操作，必须在主分片上面完成之后才能被复制到相关的副本分片， <code>ES</code>  为了提高写入的能力这个过程是并发写的，同时为了解决并发写的过程中数据冲突的问题， <code>ES</code>  通过乐观锁的方式控制，每个文档都有一个  <code>_version</code>  （版本）号，当文档被修改时版本号递增。一旦所有的副本分片都报告写成功才会向协调节点报告成功，协调节点向客户端报告成功。</p>\n<p>关于， <code>ES</code>  的基本概念，就介绍到这里。<br>\n下一篇: 《 <code>ES</code>  索引管理》</p>\n<h1 id=\"最后\"><a class=\"markdownIt-Anchor\" href=\"#最后\">#</a> 最后</h1>\n<p>期望与你一起遇见更好的自己</p>\n<p><img data-src=\"/images/qrcode.jpg\" alt=\"期望与你一起遇见更好的自己\"></p>\n",
            "tags": [
                "Elastic Search",
                "搜索"
            ]
        },
        {
            "id": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/03.ES%E9%85%8D%E7%BD%AE/",
            "url": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/03.ES%E9%85%8D%E7%BD%AE/",
            "title": "Elastic Search配置",
            "date_published": "2021-08-31T07:28:55.000Z",
            "content_html": "<h1 id=\"elastic-search配置\"><a class=\"markdownIt-Anchor\" href=\"#elastic-search配置\">#</a> Elastic Search 配置</h1>\n<p><code>ES</code>  提供了很多默认的参数设置，使我们不用添加任何参数就可以成功的启动 <code>ES</code> 。 作为一个认真的学习者。我们还是来一起看看 如何更好的自定义  <code>ES</code>  配置。 详细的配置内容，可以参考 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9jdXJyZW50L3NldHRpbmdzLmh0bWw=\">https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html</span>.</p>\n<p><code>ES</code>  的属性，分为 静态属性 和 动态属性。<br>\n所有的静态属性，都必须重启后才能生效。<br>\n对于动态属性可以通过调用</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST _nodes/reload_secure_settings</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;secure_settings_password&quot;</span>: <span class=\"string\">&quot;s3cr3t&quot;</span> </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>”s3cr3t“</code> , 是 <code>ES-keystore</code>  生成的秘钥。调用时需要替换为自己设置的秘钥.</p>\n<p>支持热加载的属性有:  <code> Azure repository plugin</code> , <code> EC2 discovery plugin</code> , <code>GCS repository plugin</code> , <code>S3 repository plugin</code> ,  <code>Monitoring settings</code> , <code>Watcher settings</code> 。如果想了解更多，可以在  <code>https://www.elastic.co/guide/en/elasticsearch/reference/current/secure-settings.html</code>  查询。</p>\n<p>在 ES 的安装目录，很明显的有一个  <code>config</code>  目录。进入之后，可以看到</p>\n<p><img data-src=\"./images/es-series/ES-config%E7%9B%AE%E5%BD%95.png\" alt=\"\"></p>\n<ul>\n<li><code>elasticsearch.keystore</code> :  <code>Elasticsearch</code>  提供了密钥库和 <code>elasticsearch-keystore</code>  用于管理密钥库设置的工具。</li>\n</ul>\n<p>接下来，我们重点来看下和配置相关的三个文件</p>\n<ul>\n<li><code>elasticsearch.yml</code> :</li>\n<li><code>jvm.options</code> :</li>\n<li><code>log4j2.properties</code> :</li>\n</ul>\n<p>和权限相关的。</p>\n<ul>\n<li><code>role_mapping.yml</code></li>\n<li><code>roles.yml</code></li>\n<li><code>users</code></li>\n<li><code>users_roles</code></li>\n</ul>\n<p>这里我们先不深入了解。</p>\n<h1 id=\"elasticsearch-设置介绍\"><a class=\"markdownIt-Anchor\" href=\"#elasticsearch-设置介绍\">#</a> elasticsearch 设置介绍</h1>\n<p>有些设置是非常敏感的，仅依靠文件系统权限来保护它们的值是不够的。对于这个用例， <code>Elasticsearch</code>  提供了一个密钥存储库和 <code>Elasticsearch-keystore</code>  工具来管理密钥存储库中的设置。设计仅从密钥库中读取某些设置。 但是，密钥库没有验证来阻止不支持的设置。 将不支持的设置添加到密钥库中会导致 <code>Elasticsearch</code>  无法启动。</p>\n<p><b>对密钥库的所有修改仅在重新启动 <code>Elasticsearch</code>  之后生效。</b><br>\n这些设置与  <code>elasticsearch.yml</code>  配置文件中的常规设置一样，需要在集群的每个节点上指定。 当前，所有安全设置都是特定于节点的设置，在每个节点上必须具有相同的值。</p>\n<h2 id=\"elasticserche-keystore-使用\"><a class=\"markdownIt-Anchor\" href=\"#elasticserche-keystore-使用\">#</a> elasticserche-keystore 使用</h2>\n<p>来看一下  <code>elasticsearch-keystore</code>  命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bin/elasticsearch-keystore</span><br><span class=\"line\">* [add &lt;settings&gt;] [-f] [--stdin] :添加一个String的配置到keystore中</span><br><span class=\"line\">* [add-file (&lt;setting&gt; &lt;path&gt;)+] : 添加一个文件配置到keystore中</span><br><span class=\"line\">* [create] [-p]: 创建一个新的Es keyStore</span><br><span class=\"line\">* [list] : 展示keystore的项</span><br><span class=\"line\">* [passwd] : 修改 keystore的密码</span><br><span class=\"line\">* [remove &lt;setting&gt;] : 移除某些配置</span><br><span class=\"line\">* [upgrade] : 升级密钥库的内部格式。</span><br><span class=\"line\">* [has-passwd] - 验证是否有keystore并且有密码保护</span><br></pre></td></tr></table></figure>\n<p>简单使用:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 创建一个keystore</span></span><br><span class=\"line\">&gt; ./elasticsearch-keystore create -p</span><br><span class=\"line\"><span class=\"comment\">## //输入密码</span></span><br><span class=\"line\">Enter new password <span class=\"keyword\">for</span> the elasticsearch keystore (empty <span class=\"keyword\">for</span> no password):</span><br><span class=\"line\"><span class=\"comment\">## // 确认密码</span></span><br><span class=\"line\">Enter same password again:</span><br><span class=\"line\"><span class=\"comment\">## // 已经有keystore文件了，是否要覆盖</span></span><br><span class=\"line\">An elasticsearch keystore already exists. Overwrite? [y/N]y</span><br><span class=\"line\">Created elasticsearch keystore <span class=\"keyword\">in</span> /Users/bjhl/fxb_applicaton/fxb_program/elasticsearch-7.10.1/config/elasticsearch.keystore</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看秘钥库</span></span><br><span class=\"line\">&gt; ./elasticsearch-keystore list</span><br><span class=\"line\"><span class=\"comment\">## // 输入密码</span></span><br><span class=\"line\">Enter password <span class=\"keyword\">for</span> the elasticsearch keystore :</span><br><span class=\"line\">keystore.seed <span class=\"comment\"># 秘钥库</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 添加设置到秘钥库中</span></span><br><span class=\"line\">&gt; ./elasticsearch-keystore add settings.name</span><br><span class=\"line\"><span class=\"comment\">## // 输入密码</span></span><br><span class=\"line\">Enter password <span class=\"keyword\">for</span> the elasticsearch keystore :</span><br><span class=\"line\"><span class=\"comment\">## 输入添加的设置的value</span></span><br><span class=\"line\">Enter value <span class=\"keyword\">for</span> settings.name:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 添加文件到秘钥库</span></span><br><span class=\"line\">&gt; ./elasticsearch-keystore add-file file.name xxx.xx</span><br><span class=\"line\">Enter password <span class=\"keyword\">for</span> the elasticsearch keystore :</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除配置</span></span><br><span class=\"line\">&gt; ./elasticsearch-keystore remove settings.name</span><br><span class=\"line\">Enter password <span class=\"keyword\">for</span> the elasticsearch keystore :</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 更新keystore</span></span><br><span class=\"line\">&gt; ./elasticsearch-keystore upgrade</span><br><span class=\"line\">Enter password <span class=\"keyword\">for</span> the elasticsearch keystore :</span><br></pre></td></tr></table></figure>\n<h2 id=\"elasticsearchyml\"><a class=\"markdownIt-Anchor\" href=\"#elasticsearchyml\">#</a>  <code>elasticsearch.yml</code></h2>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># - 集群相关配置 -</span></span><br><span class=\"line\"><span class=\"comment\"># 集群的名称</span></span><br><span class=\"line\"><span class=\"attr\">cluster.name:</span> <span class=\"string\">my-application</span></span><br><span class=\"line\"><span class=\"comment\"># 更多关于集群的配置，参考：https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-cluster.html</span></span><br><span class=\"line\"><span class=\"comment\"># 跨集群配置:参考:https://www.elastic.co/guide/en/elasticsearch/reference/current/ccr-settings.html</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 节点的名称</span></span><br><span class=\"line\"><span class=\"attr\">node.name:</span> <span class=\"string\">fxb-cluster-node-1</span></span><br><span class=\"line\"><span class=\"comment\"># 可以为集群添加一些自定义的属性配置</span></span><br><span class=\"line\"><span class=\"attr\">node.attr.zhName:</span> <span class=\"string\">方小白</span></span><br><span class=\"line\"><span class=\"comment\"># 更多节点相关的配置,参考</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># - 路径相关配置 -</span></span><br><span class=\"line\"><span class=\"comment\"># 指定存储数据的位置,多个路径的话，使用`,`分割 (separate multiple locations by comma)</span></span><br><span class=\"line\"><span class=\"attr\">path.data:</span> <span class=\"string\">/path/to/data</span></span><br><span class=\"line\"><span class=\"comment\"># 日志文件存储地址</span></span><br><span class=\"line\"><span class=\"attr\">path.logs:</span> <span class=\"string\">/path/to/logs</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># - 内存相关 -</span></span><br><span class=\"line\"><span class=\"comment\"># Lock the memory on startup:</span></span><br><span class=\"line\"><span class=\"attr\">bootstrap.memory_lock:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\"># 确保将堆大小设置为系统上可用内存的一半左右，并确保进程的所有者可以使用此限制。系统交换内存时，Elasticsearch的性能较差。</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------- Network -----------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Set the bind address to a specific IP (IPv4 or IPv6):</span></span><br><span class=\"line\"><span class=\"attr\">network.host:</span> <span class=\"number\">192.168</span><span class=\"number\">.0</span><span class=\"number\">.1</span></span><br><span class=\"line\"><span class=\"comment\"># 启动端口</span></span><br><span class=\"line\"><span class=\"attr\">http.port:</span> <span class=\"number\">9200</span></span><br><span class=\"line\"><span class=\"comment\"># 更多可以参考: https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># --------------------------------- Discovery ----------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># 提供群集中符合主机资格的节点的地址列表。</span></span><br><span class=\"line\"><span class=\"comment\"># The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]</span></span><br><span class=\"line\"><span class=\"attr\">discovery.seed_hosts:</span> [<span class=\"string\">&quot;host1&quot;</span>, <span class=\"string\">&quot;host2&quot;</span>]</span><br><span class=\"line\"><span class=\"comment\"># 设置初始的符合主机资格的节点集,【静态属性】</span></span><br><span class=\"line\"><span class=\"attr\">cluster.initial_master_nodes:</span> [<span class=\"string\">&quot;node-1&quot;</span>, <span class=\"string\">&quot;node-2&quot;</span>]</span><br><span class=\"line\"><span class=\"comment\"># 更多关于发现相关的配置,参考:https://www.elastic.co/guide/en/elasticsearch/reference/current/ccr-settings.html</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------- Gateway -----------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Block initial recovery after a full cluster restart until N nodes are started:</span></span><br><span class=\"line\"><span class=\"attr\">gateway.recover_after_nodes:</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># 更多内容，参考https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-gateway.html</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># ---------------------------------- Various -----------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># Require explicit names when deleting indices:</span></span><br><span class=\"line\"><span class=\"attr\">action.destructive_requires_name:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"jvm-参数-jvmoptions\"><a class=\"markdownIt-Anchor\" href=\"#jvm-参数-jvmoptions\">#</a> JVM 参数 =&gt; jvm.options</h2>\n<p><code>jvm.options</code>  包含使用特殊语法的以行分隔的 <code>JVM</code>  参数列表：</p>\n<ul>\n<li><code>#</code>  表示注释</li>\n<li>以 <code>-</code>  开头的行被视为独立于 <code>JVM</code>  版本而应用的 JVM 选项</li>\n<li>以 <code>&lt;数字&gt;:-</code>  开头的行被视为 <code>JVM</code>  选项，只有当 <code>JVM</code>  的版本与该数字匹配时才适用，比如: <code>8:-Xmx2g</code></li>\n<li>以  <code>&lt;数字&gt;-：</code> 开头 的行被视为 <code>JVM</code>  选项，仅在 <code>JVM</code>  版本大于或等于该数字时才适用。比如: <code>8-:-Xmx2g</code></li>\n<li>以 <code>&lt;数字&gt;-&lt;数字&gt;：</code> 开头的行被视为仅在 <code>JVM</code>  版本落在两个数字范围内时才适用的 <code>JVM</code>  选项。比如： <code>8-9:-Xmx2g</code></li>\n</ul>\n<p>Elasticsearch 默认配置 JVM 使用最小和最大大小为 1 GB 的堆。</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## JVM configuration</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">################################################################</span></span><br><span class=\"line\"><span class=\"comment\">## IMPORTANT: JVM heap size</span></span><br><span class=\"line\"><span class=\"comment\">################################################################</span></span><br><span class=\"line\"><span class=\"comment\">## 参考 https://www.elastic.co/guide/en/elasticsearch/reference/current/important-settings.html#heap-size-settings</span></span><br><span class=\"line\"><span class=\"comment\"># Xms represents the initial size of total heap space</span></span><br><span class=\"line\"><span class=\"comment\"># Xmx represents the maximum size of total heap space</span></span><br><span class=\"line\"><span class=\"string\">-Xms1g</span></span><br><span class=\"line\"><span class=\"string\">-Xmx1g</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">################################################################</span></span><br><span class=\"line\"><span class=\"comment\">## Expert settings: 高级设置</span></span><br><span class=\"line\"><span class=\"comment\">################################################################</span></span><br><span class=\"line\"><span class=\"comment\">## 不理解下面的属性，不建议修改</span></span><br><span class=\"line\"><span class=\"comment\">################################################################</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## GC configuration</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"number\">-13</span><span class=\"string\">:-XX:+UseConcMarkSweepGC</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"number\">-13</span><span class=\"string\">:-XX:CMSInitiatingOccupancyFraction=75</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"number\">-13</span><span class=\"string\">:-XX:+UseCMSInitiatingOccupancyOnly</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## G1GC Configuration</span></span><br><span class=\"line\"><span class=\"comment\"># <span class=\"doctag\">NOTE:</span> G1 GC is only supported on JDK version 10 or later</span></span><br><span class=\"line\"><span class=\"comment\"># to use G1GC, uncomment the next two lines and update the version on the</span></span><br><span class=\"line\"><span class=\"comment\"># following three lines to your version of the JDK</span></span><br><span class=\"line\"><span class=\"comment\"># 10-13:-XX:-UseConcMarkSweepGC</span></span><br><span class=\"line\"><span class=\"comment\"># 10-13:-XX:-UseCMSInitiatingOccupancyOnly</span></span><br><span class=\"line\"><span class=\"number\">14</span><span class=\"string\">-:-XX:+UseG1GC</span></span><br><span class=\"line\"><span class=\"number\">14</span><span class=\"string\">-:-XX:G1ReservePercent=25</span></span><br><span class=\"line\"><span class=\"number\">14</span><span class=\"string\">-:-XX:InitiatingHeapOccupancyPercent=30</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## JVM temporary directory</span></span><br><span class=\"line\"><span class=\"string\">-Djava.io.tmpdir=$&#123;ES_TMPDIR&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## heap dumps</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># generate a heap dump when an allocation from the Java heap fails</span></span><br><span class=\"line\"><span class=\"comment\"># heap dumps are created in the working directory of the JVM</span></span><br><span class=\"line\"><span class=\"string\">-XX:+HeapDumpOnOutOfMemoryError</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># specify an alternative path for heap dumps; ensure the directory exists and</span></span><br><span class=\"line\"><span class=\"comment\"># has sufficient space</span></span><br><span class=\"line\"><span class=\"string\">-XX:HeapDumpPath=data</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># specify an alternative path for JVM fatal error logs</span></span><br><span class=\"line\"><span class=\"string\">-XX:ErrorFile=logs/hs_err_pid%p.log</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## JDK 8 GC logging</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-XX:+PrintGCDetails</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-XX:+PrintGCDateStamps</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-XX:+PrintTenuringDistribution</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-XX:+PrintGCApplicationStoppedTime</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-Xloggc:logs/gc.log</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-XX:+UseGCLogFileRotation</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-XX:NumberOfGCLogFiles=32</span></span><br><span class=\"line\"><span class=\"number\">8</span><span class=\"string\">:-XX:GCLogFileSize=64m</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># JDK 9+ GC logging</span></span><br><span class=\"line\"><span class=\"number\">9</span><span class=\"string\">-:-Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"日志参数\"><a class=\"markdownIt-Anchor\" href=\"#日志参数\">#</a> 日志参数</h1>\n<p>可以看到  <code>ElasticSearch</code>  使用 <code>log4j2</code>  日志，关于此日志的配置，这里就不多赘述了。</p>\n<h1 id=\"系统配置\"><a class=\"markdownIt-Anchor\" href=\"#系统配置\">#</a> 系统配置</h1>\n<p>除了对  <code>ES</code>  的配置之外，如果想要更好的提升 ES 性能，还需对  <code>ES</code>  所依赖的宿主机进行一些属性配置。<br>\n比如：比如禁止 <code>swap</code>  等。更多内容，参考:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9jdXJyZW50L3N5c3RlbS1jb25maWcuaHRtbA==\">https://www.elastic.co/guide/en/elasticsearch/reference/current/system-config.html</span>.</p>\n<h1 id=\"最后\"><a class=\"markdownIt-Anchor\" href=\"#最后\">#</a> 最后</h1>\n<p>期望与你一起遇见更好的自己</p>\n<p><img data-src=\"/images/qrcode.jpg\" alt=\"期望与你一起遇见更好的自己\"></p>\n",
            "tags": [
                "Elastic Search",
                "搜索"
            ]
        },
        {
            "id": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/02.ES%E5%AE%89%E8%A3%85/",
            "url": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/02.ES%E5%AE%89%E8%A3%85/",
            "title": "ES栈安装",
            "date_published": "2021-08-31T07:20:55.000Z",
            "content_html": "<h2 id=\"安装-elasticsearch-7101\"><a class=\"markdownIt-Anchor\" href=\"#安装-elasticsearch-7101\">#</a> 安装 ElasticSearch 7.10.1</h2>\n<h3 id=\"下载安装包\"><a class=\"markdownIt-Anchor\" href=\"#下载安装包\">#</a> 下载安装包</h3>\n<p>我们在 <code>es</code>  的<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS83LjEwL2dldHRpbmctc3RhcnRlZC1pbnN0YWxsLmh0bWw=\">官网</span>上可以找到 ES 软件的下载地址，我放到下面:</p>\n<p><code>LINUX</code> : <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcnRpZmFjdHMuZWxhc3RpYy5jby9kb3dubG9hZHMvZWxhc3RpY3NlYXJjaC9lbGFzdGljc2VhcmNoLTcuMTAuMS1saW51eC14ODZfNjQudGFyLmd6\">elasticsearch-7.10.1-linux-x86_64.tar.gz</span><br>\n <code>MACOS</code> : <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcnRpZmFjdHMuZWxhc3RpYy5jby9kb3dubG9hZHMvZWxhc3RpY3NlYXJjaC9lbGFzdGljc2VhcmNoLTcuMTAuMS1kYXJ3aW4teDg2XzY0LnRhci5neg==\">elasticsearch-7.10.1-darwin-x86_64.tar.gz</span><br>\n <code>Windows</code> : <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcnRpZmFjdHMuZWxhc3RpYy5jby9kb3dubG9hZHMvZWxhc3RpY3NlYXJjaC9lbGFzdGljc2VhcmNoLTcuMTAuMS13aW5kb3dzLXg4Nl82NC56aXA=\">elasticsearch-7.10.1-windows-x86_64.zip</span></p>\n<p><code>ps</code> : 我试了下好像需要 科学上网 。 你可以可以通过公众号中 回复  <code>es-系统名称</code>  就可以获取到对应的下载连接了。下拉到底哦～</p>\n<h3 id=\"解压安装包\"><a class=\"markdownIt-Anchor\" href=\"#解压安装包\">#</a> 解压安装包</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"><span class=\"comment\"># Linux:</span></span></span><br><span class=\"line\">tar -xvf elasticsearch-7.10.1-linux-x86_64.tar.gz</span><br><span class=\"line\"><span class=\"meta\"></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"><span class=\"comment\"># macOS:</span></span></span><br><span class=\"line\">tar -xvf elasticsearch-7.10.1-darwin-x86_64.tar.gz</span><br><span class=\"line\"><span class=\"meta\"></span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"><span class=\"comment\"># Windows PowerShell:</span></span></span><br><span class=\"line\">Expand-Archive elasticsearch-7.10.1-windows-x86_64.zip</span><br></pre></td></tr></table></figure>\n<h3 id=\"启动-elasticsearch\"><a class=\"markdownIt-Anchor\" href=\"#启动-elasticsearch\">#</a> 启动  <code>ElasticSearch</code></h3>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## Linux and macOS:</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> elasticsearch-7.10.1/bin</span><br><span class=\"line\">./elasticsearch</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Windows:</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> elasticsearch-7.10.1\\bin</span><br><span class=\"line\">.\\elasticsearch.bat</span><br></pre></td></tr></table></figure>\n<p>这样就启动了单实例的 <code>ElasticSearch</code>  了。默认端口是 9200。</p>\n<p>我们可以在浏览器上访问 :  <code>http://localhost:9200</code>  查看  <code>ES</code>  情况。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">name: <span class=\"string\">&quot;bjhldeMacBook-Pro.local&quot;</span>,</span><br><span class=\"line\">cluster_name: <span class=\"string\">&quot;elasticsearch&quot;</span>,</span><br><span class=\"line\">cluster_uuid: <span class=\"string\">&quot;nAay2-T3STS8BVc3-OkOaw&quot;</span>,</span><br><span class=\"line\">version: &#123;</span><br><span class=\"line\">number: <span class=\"string\">&quot;7.10.1&quot;</span>,</span><br><span class=\"line\">build_flavor: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">build_type: <span class=\"string\">&quot;tar&quot;</span>,</span><br><span class=\"line\">build_hash: <span class=\"string\">&quot;1c34507e66d7db1211f66f3513706fdf548736aa&quot;</span>,</span><br><span class=\"line\">build_date: <span class=\"string\">&quot;2020-12-05T01:00:33.671820Z&quot;</span>,</span><br><span class=\"line\">build_snapshot: <span class=\"literal\">false</span>,</span><br><span class=\"line\">lucene_version: <span class=\"string\">&quot;8.7.0&quot;</span>,</span><br><span class=\"line\">minimum_wire_compatibility_version: <span class=\"string\">&quot;6.8.0&quot;</span>,</span><br><span class=\"line\">minimum_index_compatibility_version: <span class=\"string\">&quot;6.0.0-beta1&quot;</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">tagline: <span class=\"string\">&quot;You Know, for Search&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>也可以通过  <code>http://localhost:9200/_cat/health?v</code>  查看集群运行情况。</p>\n<p>如果想启动多个 <code>ElasticSearch</code>  实例，搭建起 ES 集群，就需要每个实例指定单独的数据文件地址和日志文件地址。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## Linux and macOS:</span></span><br><span class=\"line\">./elasticsearch -Epath.data=data2 -Epath.logs=log2</span><br><span class=\"line\">./elasticsearch -Epath.data=data3 -Epath.logs=log3</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## Windows:</span></span><br><span class=\"line\">.\\elasticsearch.bat -E path.data=data2 -E path.logs=log2</span><br><span class=\"line\">.\\elasticsearch.bat -E path.data=data3 -E path.logs=log3</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装-kibana\"><a class=\"markdownIt-Anchor\" href=\"#安装-kibana\">#</a> 安装  <code>Kibana</code></h2>\n<p><code>Kibana</code>  是一个开源的分析和可视化平台。使用 <code>Kibana</code>  来探索你的 <code>Elasticsearch</code>  数据，然后建立漂亮的可视化和仪表板。<br>\n <code>Kibana</code>  具有管理弹性栈的 UI。管理您的安全设置，分配用户角色，拍摄快照，卷起您的数据，以及更多，都从一个 <code>Kibana UI</code>  的便利。<br>\n <code>Elastic</code>  栈解决方案的集中式中心。从日志分析到文档发现.</p>\n<h3 id=\"mac-or-linux\"><a class=\"markdownIt-Anchor\" href=\"#mac-or-linux\">#</a>  <code>Mac or linux</code></h3>\n<h4 id=\"下载-kibana-安装包\"><a class=\"markdownIt-Anchor\" href=\"#下载-kibana-安装包\">#</a> 下载  <code>kibana</code>  安装包</h4>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O https://artifacts.elastic.co/downloads/kibana/kibana-7.10.1-darwin-x86_64.tar.gz</span><br><span class=\"line\">curl https://artifacts.elastic.co/downloads/kibana/kibana-7.10.1-darwin-x86_64.tar.gz.sha512 | shasum -a 512 -c - </span><br><span class=\"line\">tar -xzf kibana-7.10.1-darwin-x86_64.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> kibana-7.10.1-darwin-x86_64/ </span><br></pre></td></tr></table></figure>\n<h4 id=\"启动-kibana\"><a class=\"markdownIt-Anchor\" href=\"#启动-kibana\">#</a> 启动  <code>kibana</code></h4>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./bin/kibana</span><br></pre></td></tr></table></figure>\n<h3 id=\"windows\"><a class=\"markdownIt-Anchor\" href=\"#windows\">#</a>  <code>Windows</code></h3>\n<h4 id=\"下载\"><a class=\"markdownIt-Anchor\" href=\"#下载\">#</a> 下载</h4>\n<p>点击链接 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcnRpZmFjdHMuZWxhc3RpYy5jby9kb3dubG9hZHMva2liYW5hL2tpYmFuYS03LjEwLjEtd2luZG93cy14ODZfNjQuemlw\">https://artifacts.elastic.co/downloads/kibana/kibana-7.10.1-windows-x86_64.zip</span>  下载 kibana 后，解压文件。</p>\n<h4 id=\"启动\"><a class=\"markdownIt-Anchor\" href=\"#启动\">#</a> 启动</h4>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.\\bin\\kibana.bat</span><br></pre></td></tr></table></figure>\n<h3 id=\"验证\"><a class=\"markdownIt-Anchor\" href=\"#验证\">#</a> 验证</h3>\n<p>访问  <code>localhost:5601</code>  页面，就可以访问 kibana 的页面了.</p>\n<p><img data-src=\"/images/es-series/WX20210108-190528.png\" alt=\"WX20210108-190528.png\"></p>\n<p>我们接下来的学习，主要是依赖 kibana 的 devTool 功能。因为 devTools 给我们提供建非常方便的 Rest API 调用方式。</p>\n<p><img data-src=\"/images/es-series/kibana-devTool.png\" alt=\"kibana-devTool\"></p>\n<h2 id=\"安装-logstash\"><a class=\"markdownIt-Anchor\" href=\"#安装-logstash\">#</a> 安装  <code>logstash</code></h2>\n<p><code>Logstash</code>  是一个具有实时管道功能的开源数据收集引擎。 <code>Logstash</code>  可以动态地统一来自不同数据源的数据，并将数据规范化到您选择的目的地。为各种高级下游分析和可视化用例清理和民主化所有数据。虽然 <code>Logstash</code>  最初推动了日志收集方面的创新，但它的功能远远超出了这个用例。任何类型的事件都可以通过大量的输入、过滤和输出插件来丰富和转换，并且使用许多本地编解码器进一步简化了吸收过程。</p>\n<h3 id=\"下载-2\"><a class=\"markdownIt-Anchor\" href=\"#下载-2\">#</a> 下载</h3>\n<p>可以在  <code>https://www.elastic.co/cn/downloads/logstash</code>  页面上下载所需的 安装包。进行解压。</p>\n<p>后面我们会专门介绍 logStash 的使用。 这里就不过多介绍了。</p>\n<p>至此，我们了解了著名的  <code>ELK</code>  日志收集处理套装。</p>\n<h2 id=\"beats\"><a class=\"markdownIt-Anchor\" href=\"#beats\">#</a> Beats</h2>\n<p><code>Beats</code>  是您作为代理安装在服务器上的开源数据发送者，用于将运营数据发送到 <code>Elasticsearch</code> 。其提供了数据审核，日志文件，云数据，可用性，系统日志，指标，网络流量， <code>Windows</code>  事件记录等功能。 <code>Beats</code>  可以将数据直接发送到 <code>Elasticsearch</code>  或通过 <code>Logstash</code>  发送，您可以在此处进一步处理和增强数据，然后再在 <code>Kibana</code>  中进行可视化。<br>\n <code>beats</code>  为不同的功能，提供了不同的组件，可以根据自己的需求，安装特定的产品，这里不多介绍。</p>\n<h2 id=\"其他\"><a class=\"markdownIt-Anchor\" href=\"#其他\">#</a> 其他</h2>\n<p>除了  <code>ElasticSearch</code> ,  <code>logStash</code> ,  <code>kibana</code> ,  <code>Beats</code>  之外， <code>Elastic</code>  还提供了其他的产品，比如： <code>APM Server</code> ,  <code>ElasticSearch Hoop</code> 。 可以根据自己的兴趣进行学习。</p>\n<p>在后面的一段时间里，我们常用到的是  <code>ElasticSearch</code>  和  <code>Kibana</code>  . 所以将这两个软件安装好就可以啦。</p>\n<h2 id=\"最后\"><a class=\"markdownIt-Anchor\" href=\"#最后\">#</a> 最后</h2>\n<p>期望与你一起遇见更好的自己</p>\n<p><img data-src=\"/images/qrcode.jpg\" alt=\"期望与你一起遇见更好的自己\"></p>\n",
            "tags": [
                "Elastic Search",
                "搜索"
            ]
        },
        {
            "id": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/01.ES%E7%AE%80%E4%BB%8B/",
            "url": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/01.ES%E7%AE%80%E4%BB%8B/",
            "title": "Elastic Search简介",
            "date_published": "2021-08-31T06:28:55.000Z",
            "content_html": "<h1 id=\"elasticsearch简介\"><a class=\"markdownIt-Anchor\" href=\"#elasticsearch简介\">#</a> Elasticsearch 简介</h1>\n<p><code>Elasticsearch</code>  是一个开源的分布式  <code>RESTful</code>  <b>搜索</b>和<b>分析</b>引擎，能够解决越来越多不同的应用场景。<br>\n <code>Elasticsearch</code>  是一个高度可扩展的开源分布式全文本搜索和分析引擎。 它使您可以快速，近乎实时地存储，搜索和分析大量数据。 它通常用作支持具有复杂搜索功能和要求的应用程序的基础引擎 / 技术。提供了丰富的  <code>RESTful</code>  API.</p>\n<p>这里 特别记住 <b>搜索</b>  和 <b>分析</b> 这两个词，后面我们花大量篇幅去学习  <code>ES</code>  的这两个功能，体验  <code>ES</code>  的强大之处。</p>\n<h1 id=\"es发展历史\"><a class=\"markdownIt-Anchor\" href=\"#es发展历史\">#</a> ES 发展历史</h1>\n<h2 id=\"2010年2月-第一次发布\"><a class=\"markdownIt-Anchor\" href=\"#2010年2月-第一次发布\">#</a> 2010 年 2 月 第一次发布</h2>\n<h2 id=\"2014年1月-发布了10版本\"><a class=\"markdownIt-Anchor\" href=\"#2014年1月-发布了10版本\">#</a> 2014 年 1 月 发布了 1.0 版本</h2>\n<h2 id=\"2015年10月发布20版本\"><a class=\"markdownIt-Anchor\" href=\"#2015年10月发布20版本\">#</a> 2015 年 10 月，发布 2.0 版本</h2>\n<h2 id=\"2016年10月发布50版本\"><a class=\"markdownIt-Anchor\" href=\"#2016年10月发布50版本\">#</a> 2016 年 10 月，发布 5.0 版本</h2>\n<ul>\n<li>支持 lucene 6.x. 性能提升。默认打分机制从 TF-IDF 改为 BM25</li>\n<li>支持 Ingest 节点 / Painless Scripting / Completion Suggested 支持 / 原生的 Java Rest 客户端</li>\n<li>Type 标记为 deprecated , 支持 keyword 的类型</li>\n<li>性能优化\n<ul>\n<li>内部引擎移除了避免同一文档并发更新的竞争锁，带来了 15%-20% 的性能提升</li>\n<li>Instant Aggregation ，支持分片上聚合的缓存</li>\n<li>新增了 Profile API</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2017年10月-发布60版本\"><a class=\"markdownIt-Anchor\" href=\"#2017年10月-发布60版本\">#</a> 2017 年 10 月， 发布 6.0 版本</h2>\n<ul>\n<li>支持 Lucence 7.x 版本</li>\n<li>新增功能：跨集群复制，索引生命周期管理，SQL 的支持</li>\n<li>更友好的升级和数据迁移：在主要版本之间的迁移更为简化，体验升级。 全新的基于操作的数据复制框架，可以加快数据恢复。</li>\n<li>性能优化：有效存储稀疏字段的新方法，降低了存储成本。 在索引时进行排序，可以加快排序的查询性能。</li>\n</ul>\n<h2 id=\"2019年4月发布70版本\"><a class=\"markdownIt-Anchor\" href=\"#2019年4月发布70版本\">#</a> 2019 年 4 月，发布 7.0 版本</h2>\n<ul>\n<li>支持  <code>Lucene 8.0</code>  版本</li>\n<li>重大改进 - 正式废除单个索引下多个 Type 的支持</li>\n<li><code>7.1</code>  开始， <code>Security</code>  功能免费使用</li>\n<li><code>ECK</code>  - 支持 <code>Elasticsearch operator on kubernetes</code></li>\n<li>新功能:  <code>New Cluster Coordination</code> ,  <code>Feature-Complete High Level Rest Client</code> ,  <code>Script Score Query</code></li>\n<li>性能优化：默认的 <code>Primary Shard</code>  数从 <code>5</code>  改为 <code>1</code> ，避免 <code>Over Sharding</code> . 性能优化，更快的 <code>Top K</code></li>\n</ul>\n<h2 id=\"2020年12月-发布了710版本\"><a class=\"markdownIt-Anchor\" href=\"#2020年12月-发布了710版本\">#</a> 2020 年 12 月 发布了 7.10 版本</h2>\n<ol>\n<li><code>ES</code>  的索引速度提升了 <code>20%</code> 。</li>\n<li>我们重新引入了时间点 ( <code>pit</code> )，这是一种保存搜索索引状态的轻量级方法。凹坑通过使 ui 更具反应性来改善最终用户体验。</li>\n<li>默认情况下，我们使大多数 EQL 运算符和函数区分大小写。 我们还添加了：，一个新的不区分大小写的 <code>equal</code>  运算符。 专为安全用例而设计</li>\n<li><code>REST API</code>  对系统索引的访问已弃用</li>\n<li>系统索引的新线程池。添加了两个新的线程池： <code>system_read和system_write</code> 。 这些线程池可确保对 <code>Elastic Stack</code>  至关重要的系统索引（例如安全性或 Kibana 所使用的系统索引）在集群承受沉重的查询或索引负载时保持响应能力。 <code>system_read</code>  是固定线程池，用于管理针对系统索引的读取操作的资源。 同样， <code>system_write</code>  是一个固定线程池，用于管理用于针对系统索引的写操作的资源。 两者的最大线程数等于可用处理器的 5 或一半，以较小者为准。</li>\n</ol>\n<h1 id=\"es的生态圈\"><a class=\"markdownIt-Anchor\" href=\"#es的生态圈\">#</a> ES 的生态圈</h1>\n<h2 id=\"elastic-search\"><a class=\"markdownIt-Anchor\" href=\"#elastic-search\">#</a> elastic search</h2>\n<p><code>Elasticsearch</code>  是 <code>Elastic Stack</code>  核心的分布式搜索和分析引擎。  <code>Logstash</code>  和   有助于收集，聚合和丰富您的数据并将其存储在 <code>Elasticsearch</code>  中。 使用  ，您可以交互式地探索，可视化和共享对数据的见解，并管理和监视堆栈。  <code>Elasticsearch</code>  是发生索引，搜索和分析 魔力的地方。</p>\n<p><code>Elasticsearch</code>  为所有类型的数据提供近乎实时的搜索和分析。 无论您是结构化文本还是非结构化文本，数字数据或地理空间数据， <code>Elasticsearch</code>  都能以支持快速搜索的方式有效地对其进行存储和索引。 您不仅可以进行简单的数据检索，还可以聚合信息来发现数据中的趋势和模式。 随着数据和查询量的增长， <code>Elasticsearch</code>  的分布式特性使您的部署可以随之无缝地增长。</p>\n<h2 id=\"kibana\"><a class=\"markdownIt-Anchor\" href=\"#kibana\">#</a> kibana</h2>\n<p><code>Kibana</code>  是一个开源的分析和可视化平台。使用 <code>Kibana</code>  来探索你的 <code>Elasticsearch</code>  数据，然后建立漂亮的可视化和仪表板。<br>\n <code>Kibana</code>  具有管理弹性栈的 UI。管理您的安全设置，分配用户角色，拍摄快照，卷起您的数据，以及更多，都从一个 <code>Kibana UI</code>  的便利。<br>\n <code>Elastic</code>  栈解决方案的集中式中心。从日志分析到文档发现.</p>\n<h2 id=\"beats\"><a class=\"markdownIt-Anchor\" href=\"#beats\">#</a> beats</h2>\n<p><code>Beats</code>  是您作为代理安装在服务器上的开源数据发送者，用于将运营数据发送到 <code>Elasticsearch</code> 。其提供了数据审核，日志文件，云数据，可用性，系统日志，指标，网络流量， <code>Windows</code>  事件记录等功能。 <code>Beats</code>  可以将数据直接发送到 <code>Elasticsearch</code>  或通过 <code>Logstash</code>  发送，您可以在此处进一步处理和增强数据，然后再在 Kibana 中进行可视化。<br>\n <code>beats</code>  为不同的功能，提供了不同的组件，可以根据自己的需求，安装特定的产品.</p>\n<h2 id=\"logstash\"><a class=\"markdownIt-Anchor\" href=\"#logstash\">#</a> logstash</h2>\n<p><code>Logstash</code>  是一个具有实时管道功能的开源数据收集引擎。 <code>Logstash</code>  可以动态地统一来自不同数据源的数据，并将数据规范化到您选择的目的地。为各种高级下游分析和可视化用例清理和民主化所有数据。虽然 <code>Logstash</code>  最初推动了日志收集方面的创新，但它的功能远远超出了这个用例。任何类型的事件都可以通过大量的输入、过滤和输出插件来丰富和转换，并且使用许多本地编解码器进一步简化了吸收过程。</p>\n<h2 id=\"x-pack\"><a class=\"markdownIt-Anchor\" href=\"#x-pack\">#</a> x-pack</h2>\n<p><code>x-pack</code>  是 <code>elasticsearch</code>  的一个扩展包，将安全，警告，监视，图形和报告功能捆绑在一个易于安装的软件包中，可以轻松的启用或者关闭一些功能</p>\n<h1 id=\"es的应用场景\"><a class=\"markdownIt-Anchor\" href=\"#es的应用场景\">#</a> ES 的应用场景</h1>\n<ul>\n<li>将搜索框添加到应用或网站</li>\n<li>存储和分析日志，指标和安全事件数据</li>\n<li>使用机器学习来实时自动建模数据行为</li>\n<li>使用 <code>Elasticsearch</code>  作为存储引擎自动化业务工作流程</li>\n<li>使用 <code>Elasticsearch</code>  作为地理信息系统（ <code>GIS</code> ）管理，集成和分析空间信息</li>\n<li>使用 <code>Elasticsearch</code>  作为生物信息学研究工具来存储和处理遗传数据<br>\n…</li>\n</ul>\n<h2 id=\"最后\"><a class=\"markdownIt-Anchor\" href=\"#最后\">#</a> 最后</h2>\n<p>期望与你一起遇见更好的自己</p>\n<p><img data-src=\"/images/qrcode.jpg\" alt=\"期望与你一起遇见更好的自己\"></p>\n",
            "tags": [
                "Elastic Search",
                "搜索"
            ]
        },
        {
            "id": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/README/",
            "url": "https://fangjiaxiaobai.github.io/2021/08/31/es-series/README/",
            "title": "Elastic Search 目录",
            "date_published": "2021-08-31T06:20:55.000Z",
            "content_html": "<h2 id=\"搜索之es系列\"><a class=\"markdownIt-Anchor\" href=\"#搜索之es系列\">#</a> 搜索之 ES 系列</h2>\n<p>本系列基于版本 7.10</p>\n<h2 id=\"目录\"><a class=\"markdownIt-Anchor\" href=\"#目录\">#</a> 目录</h2>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" checked=\"true\" disabled=\"true\"><label for=\"cbx_0\"> <a href=\"/2021/08/31/es-series/01.ES%E7%AE%80%E4%BB%8B/\">ES 简介</a></label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_1\" checked=\"true\" disabled=\"true\"><label for=\"cbx_1\"> ES 发展历史</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_2\" checked=\"true\" disabled=\"true\"><label for=\"cbx_2\"> ES 的生态圈</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_3\" checked=\"true\" disabled=\"true\"><label for=\"cbx_3\"> ES 的应用场景</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_4\" checked=\"true\" disabled=\"true\"><label for=\"cbx_4\"> 使用架构</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_5\" checked=\"true\" disabled=\"true\"><label for=\"cbx_5\"> <a href=\"/2021/08/31/es-series/02.ES%E5%AE%89%E8%A3%85/\">ES 栈安装</a></label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_6\" checked=\"true\" disabled=\"true\"><label for=\"cbx_6\"> ElasticSearch 安装</label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_7\" checked=\"true\" disabled=\"true\"><label for=\"cbx_7\"> 下载</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_8\" checked=\"true\" disabled=\"true\"><label for=\"cbx_8\"> 文件目录结构，JVM 配置，</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_9\" checked=\"true\" disabled=\"true\"><label for=\"cbx_9\"> 多实例运行</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_10\" checked=\"true\" disabled=\"true\"><label for=\"cbx_10\"> 常用命令</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_11\" checked=\"true\" disabled=\"true\"><label for=\"cbx_11\"> kibana 安装</label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_12\" checked=\"true\" disabled=\"true\"><label for=\"cbx_12\"> 安装</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_13\" checked=\"true\" disabled=\"true\"><label for=\"cbx_13\"> 页面浏览 devTool</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_14\" checked=\"true\" disabled=\"true\"><label for=\"cbx_14\"> logstash 安装</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_15\" checked=\"true\" disabled=\"true\"><label for=\"cbx_15\"> <a href=\"/2021/08/31/es-series/03.ES%E9%85%8D%E7%BD%AE/\">ElasticSearch 配置</a></label></li>\n</ul>\n<h3 id=\"入门\"><a class=\"markdownIt-Anchor\" href=\"#入门\">#</a> 入门</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_16\" checked=\"true\" disabled=\"true\"><label for=\"cbx_16\"> <a href=\"/2021/08/31/es-series/04.ES%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/\">基本概念</a></label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_17\" checked=\"true\" disabled=\"true\"><label for=\"cbx_17\"> 文档</label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_18\" checked=\"true\" disabled=\"true\"><label for=\"cbx_18\"> 元数据 (mapping)</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_19\" checked=\"true\" disabled=\"true\"><label for=\"cbx_19\"> 索引</label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_20\" checked=\"true\" disabled=\"true\"><label for=\"cbx_20\"> 概念</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_21\" checked=\"true\" disabled=\"true\"><label for=\"cbx_21\"> 语意</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_22\" checked=\"true\" disabled=\"true\"><label for=\"cbx_22\"> <del>Type</del></label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_23\" disabled=\"true\"><label for=\"cbx_23\"> 节点</label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_24\" disabled=\"true\"><label for=\"cbx_24\"> master 节点</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_25\" disabled=\"true\"><label for=\"cbx_25\"> data 节点</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_26\" disabled=\"true\"><label for=\"cbx_26\"> ingist 节点</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_27\" disabled=\"true\"><label for=\"cbx_27\"> coordinating 节点</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_28\" disabled=\"true\"><label for=\"cbx_28\"> 其他类型节点: hot&amp;warm 节点，Machine Learning Node , Tribe 节点 (未来版本会被移除)</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_29\" checked=\"true\" disabled=\"true\"><label for=\"cbx_29\"> 分片</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_30\" checked=\"true\" disabled=\"true\"><label for=\"cbx_30\"> 集群</label></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"进阶\"><a class=\"markdownIt-Anchor\" href=\"#进阶\">#</a> 进阶</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_31\" disabled=\"true\"><label for=\"cbx_31\"> 索引</label></p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_32\" disabled=\"true\"><label for=\"cbx_32\"> 常用 api (索引管理)</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_33\" disabled=\"true\"><label for=\"cbx_33\"> 基本原理</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_34\" disabled=\"true\"><label for=\"cbx_34\"> 文档</label></p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_35\" disabled=\"true\"><label for=\"cbx_35\"> 文档管理</label>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_36\" disabled=\"true\"><label for=\"cbx_36\"> 简单 CURD</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_37\" disabled=\"true\"><label for=\"cbx_37\"> bulk api</label></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>分词器</p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_38\" disabled=\"true\"><label for=\"cbx_38\"> 分词器类型</label></li>\n</ul>\n</li>\n<li class=\"task-list-item\">\n<p><input type=\"checkbox\" id=\"cbx_39\" disabled=\"true\"><label for=\"cbx_39\"> 其他 api</label></p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_40\" disabled=\"true\"><label for=\"cbx_40\"> 查看集群，分片，索引</label></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"高手\"><a class=\"markdownIt-Anchor\" href=\"#高手\">#</a> 高手</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_41\" disabled=\"true\"><label for=\"cbx_41\"> 聚合分析搜索</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_42\" disabled=\"true\"><label for=\"cbx_42\"> cat API</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_43\" disabled=\"true\"><label for=\"cbx_43\"> cluster API</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_44\" disabled=\"true\"><label for=\"cbx_44\"> ccr API</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_45\" disabled=\"true\"><label for=\"cbx_45\"> data Stream API</label></li>\n</ul>\n<h3 id=\"宗师\"><a class=\"markdownIt-Anchor\" href=\"#宗师\">#</a> 宗师</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_46\" disabled=\"true\"><label for=\"cbx_46\"> 补货中…</label></li>\n</ul>\n<h3 id=\"运维\"><a class=\"markdownIt-Anchor\" href=\"#运维\">#</a> 运维</h3>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_47\" disabled=\"true\"><label for=\"cbx_47\"> 补货中…</label></li>\n</ul>\n",
            "tags": [
                "Elastic Search",
                "搜索"
            ]
        }
    ]
}